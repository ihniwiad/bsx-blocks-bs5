(()=>{"use strict";const e=window.wp.blocks,s=window.ReactJSXRuntime,o=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"360",height:"240",viewBox:"0 0 360 240","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{"fill-rule":"evenodd",d:"M0,0v240h360V0H0z M160,160V80l69.28,40L160,160z"})}),l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{d:"M17,4H3C1.9,4,1,5.07,1,6.4v7.2C1,14.93,1.9,16,3,16h14c1.1,0,2-1.07,2-2.4V6.4C19,5.07,18.1,4,17,4z M8,13V7l5.2,3L8,13z"})})}),t=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,r=["xs","sm","md","lg","xl","xxl"],a={margin:"m",padding:"p",textAlign:"text",display:"d",gutter:"g"},c=["t","s","b","e"],b={left:"start",center:"center",right:"end"};function d(e,s){if(!s||"object"!=typeof s)return"";const o=a[e];let l=[];return r.forEach((e=>{const t=s[e];if(!Array.isArray(t))return;let i=t.map((e=>e||""));const n="xs"!==e?e+"-":"";if(i.every((e=>""!==e&&e===i[0])))return void l.push(`${o}-${n}${i[0]}`);let r=[!1,!1,!1,!1];""!==i[0]&&i[0]===i[2]&&(l.push(`${o}y-${n}${i[0]}`),r[0]=r[2]=!0),""!==i[1]&&i[1]===i[3]&&(l.push(`${o}x-${n}${i[1]}`),r[1]=r[3]=!0),c.forEach(((e,s)=>{r[s]||""===i[s]||l.push(`${o}${e}-${n}${i[s]}`)}))})),l.join(" ")}function x(e,s){if(!s||"object"!=typeof s)return"";const o=a[e];let l=[];return r.forEach((e=>{const t=s[e];if(!t)return;let i="xs"!==e?e+"-":"";l.push(`${o}-${i}${t}`)})),l.join(" ")}function p(e,s){const{belowNavbar:o,touchFooter:l,display:t,marginBefore:i,marginAfter:n,marginLeft:r,marginRight:c,resMargin1Breakpoint:p,resMargin1Position:u,resMargin1Size:h,resMargin2Breakpoint:_,resMargin2Position:g,resMargin2Size:k,paddingBefore:v,paddingAfter:f,paddingLeft:m,paddingRight:j,bgColor:y,textColor:w,textBgColor:C,textSize:S,rounded:B,textAlign:F,resTextAlignBreakpoint:M,resTextAlign:T,textShadow:A,fontWeight:I,inverseTextColor:U,headingInheritTextColor:H,headingInheritFontWeight:L,width:N,height:W,imgThumbnail:D,borderState:P,border:$,hoverShadow:R,hoverMove:q,disabled:O,verticalAlign:X,speechBubble:z,isAlert:V,state:E,objectFit:Y,overflow:G,multilayer:J,zIndex:K,isBannerInner:Q,isTop0:Z,isBottom0:ee,isLeft0:se,isRight0:oe,position:le,flexDirection:te,alignItems:ie,gutter:ne,rowReverse:re,justifyContent:ae,textColumns:ce,margin:be,padding:de}=e,xe=void 0!==s&&s.trim().length>0?s.split(" "):[];if(o&&xe.push("below-navbar-content"),l&&xe.push("mb-n-footer-space"),i&&i===n&&i===r&&i===c?xe.push("m-"+i):(i&&i===n?xe.push("my-"+i):(i&&xe.push("mt-"+i),n&&xe.push("mb-"+n)),r&&r===c?xe.push("mx-"+r):(r&&xe.push("ml-"+r),c&&xe.push("mr-"+c))),p&&u&&h&&xe.push("m"+("all"===u?"":u)+"-"+("xs"===p?"":p+"-")+h),_&&g&&k&&xe.push("m"+("all"===g?"":g)+"-"+("xs"===_?"":_+"-")+k),be&&"object"==typeof be){const e=d("margin",be);e&&xe.push(e)}if(de&&"object"==typeof de){const e=d("padding",de);e&&xe.push(e)}if(F)if("object"==typeof F){const e=x("textAlign",F);e&&xe.push(e)}else{const e=void 0!==b[F]?b[F]:F;xe.push(a.textAlign+"-"+e)}if(t&&"object"==typeof t){const e=x("display",t);e&&xe.push(e)}if(ne&&"object"==typeof ne){const e=x("gutter",ne);e&&xe.push(e)}return v&&v===f&&v===m&&v===j?xe.push("p-"+v):(v&&v===f?xe.push("py-"+v):(v&&xe.push("pt-"+v),f&&xe.push("pb-"+f)),m&&m===j?xe.push("px-"+m):(m&&xe.push("pl-"+m),j&&xe.push("pr-"+j))),y&&(-1!==y.indexOf("-transparent")?(xe.push("bg-opacity-50"),xe.push("bg-"+y.replace("-transparent",""))):-1!==y.indexOf("-opaque")?(xe.push("bg-opacity-75"),xe.push("bg-"+y.replace("-opaque",""))):xe.push("bg-"+y)),w&&xe.push("text-"+w),C&&xe.push("text-bg-"+C),S&&xe.push(S),A&&xe.push("text-shadow-"+A),I&&xe.push("font-weight-"+I),U&&xe.push("text-inverse"),H&&xe.push("heading-inherit-text"),L&&xe.push("heading-inherit-font-weight"),B&&(1==B||"rounded"==B?xe.push("rounded"):xe.push("rounded-"+B)),M&&T&&xe.push("text-"+M+"-"+T),N&&xe.push("w-"+N),W&&xe.push("h-"+W),D&&xe.push("img-thumbnail"),$&&("true"==$?xe.push("border"):"x"==$?(xe.push("border-left"),xe.push("border-right")):"y"==$?(xe.push("border-top"),xe.push("border-bottom")):"u"==$?(xe.push("border-left"),xe.push("border-right"),xe.push("border-bottom")):"inverted-u"==$?(xe.push("border-left"),xe.push("border-right"),xe.push("border-top")):xe.push("border-"+$)),P&&xe.push("border-"+P),R&&xe.push("hover-shadow"),q&&xe.push("hover-move"),O&&xe.push("disabled"),X&&xe.push("align-"+X),z&&(xe.push("speech-bubble"),"md"!=z&&xe.push("speech-bubble-"+z)),V&&(xe.push("alert"),E&&xe.push("alert-"+E)),Y&&xe.push("object-fit-"+Y),G&&xe.push("overflow-"+G),J&&xe.push("multilayer-"+J),K&&xe.push("z-"+K),Q&&xe.push("banner-inner w-100 position-relative"),Z&&xe.push("top-0"),ee&&xe.push("bottom-0"),se&&xe.push("left-0"),oe&&xe.push("right-0"),le&&xe.push("position-"+le),re&&("xs"==re?xe.push("flex-row-reverse"):xe.push("flex-"+re+"-row-reverse")),ae&&xe.push("justify-content-"+ae),ce&&xe.push("text-columns-"+ce),te&&(-1===xe.indexOf("d-flex")&&xe.push("d-flex"),xe.push("flex-"+te)),ie&&(-1===xe.indexOf("d-flex")&&xe.push("d-flex"),xe.push("align-items-"+ie)),xe.join(" ")}function u(e){const s={};for(let[o,l]of Object.entries(e))l&&(s[o]=l);return s}const h=(e,s)=>{let o=[];return void 0!==s&&null!=s&&Array.isArray(s)&&s.length>0?e.forEach((e=>{void 0!==s.find((s=>s===e.value))&&o.push(e)})):o=e,o},_=e=>{if(e&&-1!=e.indexOf(".")){const s=e.split(".");return s[s.length-1]}return""},g=e=>{if(e&&-1!=e.indexOf("/")){const s=e.split("/");return s[s.length-1]}return""},k=((0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Left","bsx-blocks"),(0,t.__)("Center","bsx-blocks"),(0,t.__)("Right","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Block","bsx-blocks"),(0,t.__)("Inline","bsx-blocks"),(0,t.__)("Flex","bsx-blocks"),(0,t.__)("Grid","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("0","bsx-blocks"),(0,t.__)("1","bsx-blocks"),(0,t.__)("2","bsx-blocks"),(0,t.__)("3","bsx-blocks"),(0,t.__)("4","bsx-blocks"),(0,t.__)("5","bsx-blocks"),[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"0",label:(0,t.__)("none (0)","bsx-blocks")},{value:"1",label:(0,t.__)("extra small","bsx-blocks")},{value:"2",label:(0,t.__)("small","bsx-blocks")},{value:"3",label:(0,t.__)("medium","bsx-blocks")},{value:"4",label:(0,t.__)("large","bsx-blocks")},{value:"5",label:(0,t.__)("extra large","bsx-blocks")}]),v=((0,t.__)("auto","bsx-blocks"),k),f=((0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("All","bsx-blocks"),(0,t.__)("↑ before","bsx-blocks"),(0,t.__)("↓ after","bsx-blocks"),(0,t.__)("↕ Y (before & after)","bsx-blocks"),(0,t.__)("← left","bsx-blocks"),(0,t.__)("→ right","bsx-blocks"),(0,t.__)("↔ X (left & right)","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Muted","bsx-blocks"),(0,t.__)("Body","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Inherit","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Link Button","bsx-blocks"),(0,t.__)("Text link","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("White opaque","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black","bsx-blocks"),(0,t.__)("Black opaque","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Primary opaque","bsx-blocks"),(0,t.__)("Primary transparent","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Secondary opaque","bsx-blocks"),(0,t.__)("Secondary transparent","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Success opaque","bsx-blocks"),(0,t.__)("Success transparent","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Danger opaque","bsx-blocks"),(0,t.__)("Danger transparent","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Warning opaque","bsx-blocks"),(0,t.__)("Warning transparent","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Info opaque","bsx-blocks"),(0,t.__)("Info transparent","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Light opaque","bsx-blocks"),(0,t.__)("Light transparent","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Dark opaque","bsx-blocks"),(0,t.__)("Dark transparent","bsx-blocks"),(0,t.__)("Transparent","bsx-blocks"),[{icon:"editor-alignleft",title:(0,t.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,t.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,t.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,t.__)("– unset –","bsx-blocks"),align:""}]),m=(e,o,l)=>{const i=v;return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Margin after","bsx-blocks"),value:e,onChange:o,options:h(i,l),help:(0,t.__)("Spacer after element","bsx-blocks")})},j=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"25",label:(0,t.__)("25 %","bsx-blocks")},{value:"50",label:(0,t.__)("50 %","bsx-blocks")},{value:"75",label:(0,t.__)("75 %","bsx-blocks")},{value:"100",label:(0,t.__)("100 %","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Width","bsx-blocks"),value:e,onChange:o,options:h(i,l)})},y=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"cover",label:(0,t.__)("Cover","bsx-blocks")},{value:"contain",label:(0,t.__)("Contain","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Object-Fit","bsx-blocks"),value:e,onChange:o,options:h(i,l)})},w=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"hidden",label:(0,t.__)("Hidden","bsx-blocks")},{value:"auto",label:(0,t.__)("Auto","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Overflow","bsx-blocks"),value:e,onChange:o,options:h(i,l)})},C=(e,o,l)=>{const i=[{value:"1",label:(0,t.__)("100%","bsx-blocks")},{value:"0.75",label:(0,t.__)("75%","bsx-blocks")},{value:"0.5",label:(0,t.__)("50%","bsx-blocks")},{value:"0.25",label:(0,t.__)("25%","bsx-blocks")}];return(0,s.jsx)(n.RadioControl,{label:(0,t.__)("Scale","bsx-blocks"),selected:e+"",options:h(i,l),onChange:o})},S=JSON.parse('{"UU":"bsx-blocks/video"}');(0,e.registerBlockType)(S.UU,{icon:l,edit:function({attributes:e,setAttributes:l}){const{notHasFigure:r,figcaption:a,videoId:c,videoUrl:b,videoIsHvc1:d,video2Id:x,video2Url:h,video3Id:k,video3Url:v,videoWidth:S,videoHeight:B,posterId:F,posterUrl:M,scale:T,width:A,height:I,displayedWidth:U,displayedHeight:H,controls:L,autoplay:N,playsinline:W,loop:D,muted:P,textAlign:$,marginAfter:R,objectFit:q,overflow:O}=e,X=e=>{void 0!==e.url&&l({videoId:e.id,videoUrl:e.url,videoWidth:parseFloat(e.width),videoHeight:parseFloat(e.height),displayedWidth:T?T*parseFloat(e.width):parseFloat(e.width),displayedHeight:T?T*parseFloat(e.height):parseFloat(e.height)})},z=e=>{void 0!==e.url&&l({video2Id:e.id,video2Url:e.url})},V=e=>{void 0!==e.url&&l({video3Id:e.id,video3Url:e.url})},E=e=>{void 0!==e.url&&l({posterId:e.id,posterUrl:e.url})},Y=p({textAlign:$,marginAfter:R,width:A,height:I,objectFit:q,overflow:O});let G="img-fluid align-middle";r&&(G+=Y?" "+Y:"");const J=u({controls:!0,autoplay:N,loop:D,playsinline:W,muted:P,poster:M,width:U||(T?T*S:S),height:H||(T?T*B:B)}),K=_(b),Q="mov"==K&&d?"video/mp4; codecs=hvc1":"video/"+K,Z="video/"+_(h),ee="video/"+_(v),se=u({}),oe=u({}),le=u({}),te=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:b,type:Q,...se}),h&&(0,s.jsx)("source",{src:h,type:Z,...oe}),v&&(0,s.jsx)("source",{src:v,type:ee,...le}),"Your browser does not support HTML video."]}),ie=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:b,type:Q}),"Your browser does not support HTML video."]}),ne=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:h,type:Z}),"Your browser does not support HTML video."]}),re=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:v,type:ee}),"Your browser does not support HTML video."]}),ae=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.BlockControls,{children:!r&&(ce=$,be=e=>{l({textAlign:e})},(0,s.jsx)(i.AlignmentToolbar,{label:(0,t.__)("Alignment","bsx-blocks"),value:ce,onChange:be,alignmentControls:f}))}),(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Video","bsx-blocks"),children:[(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("If using transparency (alpha) put 1st mov file with HVC1 Codec active and 2nd webm file.","bsx-blocks")})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:ie})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:g(b)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video selected yet –","bsx-blocks")})}),(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video","bsx-blocks")})})]}),c&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Video is HVC1 Codec (mov file with alpha)","bsx-blocks"),checked:!!d,onChange:e=>{l({videoIsHvc1:e})}})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:z,allowedTypes:"video",value:x,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:ne})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:g(h)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video 2 selected yet –","bsx-blocks")})}),c&&(0,s.jsx)(i.MediaUpload,{onSelect:z,allowedTypes:"video",value:x,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video 2","bsx-blocks")})})]}),x&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({video2Id:"",video2Url:""})},isDestructive:!0,children:(0,t.__)("Remove video 2","bsx-blocks")})})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:V,allowedTypes:"video",value:k,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:re})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:g(v)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video 3 selected yet –","bsx-blocks")})}),x&&(0,s.jsx)(i.MediaUpload,{onSelect:V,allowedTypes:"video",value:k,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video 3","bsx-blocks")})})]}),k&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({video3Id:"",video3Url:""})},isDestructive:!0,children:(0,t.__)("Remove video 3","bsx-blocks")})})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Video settings","bsx-blocks"),children:[(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Controls","bsx-blocks"),checked:!!L,onChange:e=>{l({controls:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Autoplay","bsx-blocks"),checked:!!N,onChange:e=>{l({autoplay:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Playsinline","bsx-blocks"),checked:!!W,onChange:e=>{l({playsinline:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Loop","bsx-blocks"),checked:!!D,onChange:e=>{l({loop:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Muted","bsx-blocks"),checked:!!P,onChange:e=>{l({muted:e})}})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Poster image (recommended)","bsx-blocks"),children:[F?(0,s.jsx)(i.MediaUpload,{onSelect:E,allowedTypes:"image",value:F,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,s.jsx)("img",{class:"bsxui-config-panel-img",src:M,alt:(0,t.__)("Change / upload poster image","bsx-blocks")})})}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No poster image selected yet –","bsx-blocks")})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(i.MediaUpload,{onSelect:E,allowedTypes:"image",value:F,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload poster image","bsx-blocks")})})}),F&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({posterId:"",posterUrl:""})},isDestructive:!0,children:(0,t.__)("Remove poster image","bsx-blocks")})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Dimensions","bsx-blocks"),children:[(0,s.jsx)(n.TextControl,{label:(0,t.__)("Displayed width","bsx-blocks"),value:U+"",onChange:e=>{l({displayedWidth:parseFloat(e),displayedHeight:Math.round(e/S*B),scale:parseFloat(e/S)})}}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Displayed height","bsx-blocks"),value:H+"",onChange:e=>{l({displayedHeight:parseFloat(e),displayedWidth:Math.round(e/B*S),scale:parseFloat(e/B)})}}),C(T,(e=>{l({scale:parseFloat(e),displayedWidth:e?Math.round(S*parseFloat(e)):S,displayedHeight:e?Math.round(B*parseFloat(e)):B})}))]}),(0,s.jsx)(n.PanelBody,{title:(0,t.__)("Margin (optional)","bsx-blocks"),children:m(R,(e=>{l({marginAfter:e})}))})]}),(0,s.jsxs)(i.InspectorAdvancedControls,{children:[(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Not wrapped by figure","bsx-blocks"),checked:!!r,onChange:e=>{l(e?{notHasFigure:e,textAlign:"",figcaption:""}:{notHasFigure:e})}}),j(A,(e=>{l({width:e})})),j(I,(e=>{l({height:e})})),y(q,(e=>{l({objectFit:e})})),w(O,(e=>{l({overflow:e})}))]})]});var ce,be;const de=(0,i.useBlockProps)({className:Y});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("figure",{...de,children:[c?(0,s.jsx)(s.Fragment,{children:te}):(0,s.jsx)("div",{className:"bsxui-img-upload-placeholder-empty",children:(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,className:"bsxui-banner-button",title:(0,t.__)("Select / upload video","bsx-blocks"),children:o})})}),!r&&(0,s.jsx)(i.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,t.__)("Caption (optional)","bsx-blocks"),value:a,onChange:e=>{l({figcaption:e})}})]}),ae]})},save:function({attributes:e}){const{className:o,notHasFigure:l,figcaption:t,videoId:n,videoUrl:r,videoIsHvc1:a,video2Id:c,video2Url:b,video3Id:d,video3Url:x,videoWidth:h,videoHeight:g,posterId:k,posterUrl:v,scale:f,width:m,height:j,displayedWidth:y,displayedHeight:w,controls:C,autoplay:S,playsinline:B,loop:F,muted:M,textAlign:T,marginAfter:A,objectFit:I,overflow:U}=e,H=p({textAlign:T,marginAfter:A,width:m,height:j,objectFit:I,overflow:U});let L="img-fluid align-middle";l&&(L+=H?" "+H:"");const N=u({controls:C,autoplay:S,loop:F,playsinline:B,muted:M,poster:v,width:y||(f?f*h:h),height:w||(f?f*g:g)}),W=_(r),D="mov"==W&&a?"video/mp4; codecs=hvc1":"video/"+W,P="video/"+_(b),$="video/"+_(x),R=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("source",{src:r,type:D}),b&&(0,s.jsx)("source",{src:b,type:P}),x&&(0,s.jsx)("source",{src:x,type:$}),"Your browser does not support HTML video."]});return(0,s.jsx)(s.Fragment,{children:l?(0,s.jsx)("video",{...i.useBlockProps.save({className:L,...N}),children:R}):(0,s.jsx)("figure",{...i.useBlockProps.save({className:H}),children:!!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("video",{className:L,...N,children:R}),t&&!i.RichText.isEmpty(t)&&(0,s.jsx)(i.RichText.Content,{tagName:"figcaption",className:"font-italic",value:t})]})})})}})})();