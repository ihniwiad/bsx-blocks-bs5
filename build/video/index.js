(()=>{"use strict";const e=window.wp.blocks,s=window.ReactJSXRuntime,o=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"360",height:"240",viewBox:"0 0 360 240","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{"fill-rule":"evenodd",d:"M0,0v240h360V0H0z M160,160V80l69.28,40L160,160z"})}),l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{d:"M17,4H3C1.9,4,1,5.07,1,6.4v7.2C1,14.93,1.9,16,3,16h14c1.1,0,2-1.07,2-2.4V6.4C19,5.07,18.1,4,17,4z M8,13V7l5.2,3L8,13z"})})}),t=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,r=["xs","sm","md","lg","xl","xxl"],a={margin:"m",padding:"p",textAlign:"text",display:"d",gutter:"g"},c=["t","s","b","e"];function b(e,s){if(!s||"object"!=typeof s)return"";const o=a[e];let l=[];return r.forEach((e=>{const t=s[e];if(!Array.isArray(t))return;let i=t.map((e=>e||""));const n="xs"!==e?e+"-":"";if(i.every((e=>""!==e&&e===i[0])))return void l.push(`${o}-${n}${i[0]}`);let r=[!1,!1,!1,!1];""!==i[0]&&i[0]===i[2]&&(l.push(`${o}y-${n}${i[0]}`),r[0]=r[2]=!0),""!==i[1]&&i[1]===i[3]&&(l.push(`${o}x-${n}${i[1]}`),r[1]=r[3]=!0),c.forEach(((e,s)=>{r[s]||""===i[s]||l.push(`${o}${e}-${n}${i[s]}`)}))})),l.join(" ")}function d(e,s){if(!s||"object"!=typeof s)return"";const o=a[e];let l=[];return r.forEach((e=>{const t=s[e];if(!t)return;let i="xs"!==e?e+"-":"";l.push(`${o}-${i}${t}`)})),l.join(" ")}function x(e,s){const{belowNavbar:o,touchFooter:l,display:t,marginBefore:i,marginAfter:n,marginLeft:r,marginRight:a,resMargin1Breakpoint:c,resMargin1Position:x,resMargin1Size:p,resMargin2Breakpoint:u,resMargin2Position:_,resMargin2Size:h,paddingBefore:g,paddingAfter:k,paddingLeft:v,paddingRight:f,bgColor:m,textColor:j,textBgColor:y,textSize:w,rounded:C,textAlign:S,resTextAlignBreakpoint:B,resTextAlign:F,textShadow:M,fontWeight:T,inverseTextColor:A,headingInheritTextColor:I,headingInheritFontWeight:U,width:H,height:L,imgThumbnail:N,borderState:W,border:D,hoverShadow:P,hoverMove:$,disabled:R,verticalAlign:q,speechBubble:O,isAlert:X,state:z,objectFit:V,overflow:E,multilayer:Y,zIndex:G,isBannerInner:J,isTop0:K,isBottom0:Q,isLeft0:Z,isRight0:ee,position:se,flexDirection:oe,alignItems:le,gutter:te,rowReverse:ie,justifyContent:ne,textColumns:re,margin:ae,padding:ce}=e,be=void 0!==s&&s.trim().length>0?s.split(" "):[];if(o&&be.push("below-navbar-content"),l&&be.push("mb-n-footer-space"),i&&i===n&&i===r&&i===a?be.push("m-"+i):(i&&i===n?be.push("my-"+i):(i&&be.push("mt-"+i),n&&be.push("mb-"+n)),r&&r===a?be.push("mx-"+r):(r&&be.push("ml-"+r),a&&be.push("mr-"+a))),c&&x&&p&&be.push("m"+("all"===x?"":x)+"-"+("xs"===c?"":c+"-")+p),u&&_&&h&&be.push("m"+("all"===_?"":_)+"-"+("xs"===u?"":u+"-")+h),ae&&"object"==typeof ae){const e=b("margin",ae);e&&be.push(e)}if(ce&&"object"==typeof ce){const e=b("padding",ce);e&&be.push(e)}if(S&&"object"==typeof S){const e=d("textAlign",S);e&&be.push(e)}if(t&&"object"==typeof t){const e=d("display",t);e&&be.push(e)}if(te&&"object"==typeof te){const e=d("gutter",te);e&&be.push(e)}return g&&g===k&&g===v&&g===f?be.push("p-"+g):(g&&g===k?be.push("py-"+g):(g&&be.push("pt-"+g),k&&be.push("pb-"+k)),v&&v===f?be.push("px-"+v):(v&&be.push("pl-"+v),f&&be.push("pr-"+f))),m&&(-1!==m.indexOf("-transparent")?(be.push("bg-opacity-50"),be.push("bg-"+m.replace("-transparent",""))):-1!==m.indexOf("-opaque")?(be.push("bg-opacity-75"),be.push("bg-"+m.replace("-opaque",""))):be.push("bg-"+m)),j&&be.push("text-"+j),y&&be.push("text-bg-"+y),w&&be.push(w),M&&be.push("text-shadow-"+M),T&&be.push("font-weight-"+T),A&&be.push("text-inverse"),I&&be.push("heading-inherit-text"),U&&be.push("heading-inherit-font-weight"),C&&(1==C||"rounded"==C?be.push("rounded"):be.push("rounded-"+C)),B&&F&&be.push("text-"+B+"-"+F),H&&be.push("w-"+H),L&&be.push("h-"+L),N&&be.push("img-thumbnail"),D&&("true"==D?be.push("border"):"x"==D?(be.push("border-left"),be.push("border-right")):"y"==D?(be.push("border-top"),be.push("border-bottom")):"u"==D?(be.push("border-left"),be.push("border-right"),be.push("border-bottom")):"inverted-u"==D?(be.push("border-left"),be.push("border-right"),be.push("border-top")):be.push("border-"+D)),W&&be.push("border-"+W),P&&be.push("hover-shadow"),$&&be.push("hover-move"),R&&be.push("disabled"),q&&be.push("align-"+q),O&&(be.push("speech-bubble"),"md"!=O&&be.push("speech-bubble-"+O)),X&&(be.push("alert"),z&&be.push("alert-"+z)),V&&be.push("object-fit-"+V),E&&be.push("overflow-"+E),Y&&be.push("multilayer-"+Y),G&&be.push("z-"+G),J&&be.push("banner-inner w-100 position-relative"),K&&be.push("top-0"),Q&&be.push("bottom-0"),Z&&be.push("left-0"),ee&&be.push("right-0"),se&&be.push("position-"+se),ie&&("xs"==ie?be.push("flex-row-reverse"):be.push("flex-"+ie+"-row-reverse")),ne&&be.push("justify-content-"+ne),re&&be.push("text-columns-"+re),oe&&(-1===be.indexOf("d-flex")&&be.push("d-flex"),be.push("flex-"+oe)),le&&(-1===be.indexOf("d-flex")&&be.push("d-flex"),be.push("align-items-"+le)),be.join(" ")}function p(e){const s={};for(let[o,l]of Object.entries(e))l&&(s[o]=l);return s}const u=(e,s)=>{let o=[];return void 0!==s&&null!=s&&Array.isArray(s)&&s.length>0?e.forEach((e=>{void 0!==s.find((s=>s===e.value))&&o.push(e)})):o=e,o},_=e=>{if(e&&-1!=e.indexOf(".")){const s=e.split(".");return s[s.length-1]}return""},h=e=>{if(e&&-1!=e.indexOf("/")){const s=e.split("/");return s[s.length-1]}return""},g=((0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Left","bsx-blocks"),(0,t.__)("Center","bsx-blocks"),(0,t.__)("Right","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Block","bsx-blocks"),(0,t.__)("Inline","bsx-blocks"),(0,t.__)("Flex","bsx-blocks"),(0,t.__)("Grid","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("0","bsx-blocks"),(0,t.__)("1","bsx-blocks"),(0,t.__)("2","bsx-blocks"),(0,t.__)("3","bsx-blocks"),(0,t.__)("4","bsx-blocks"),(0,t.__)("5","bsx-blocks"),[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"0",label:(0,t.__)("none (0)","bsx-blocks")},{value:"1",label:(0,t.__)("extra small","bsx-blocks")},{value:"2",label:(0,t.__)("small","bsx-blocks")},{value:"3",label:(0,t.__)("medium","bsx-blocks")},{value:"4",label:(0,t.__)("large","bsx-blocks")},{value:"5",label:(0,t.__)("extra large","bsx-blocks")}]),k=((0,t.__)("auto","bsx-blocks"),g),v=((0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("All","bsx-blocks"),(0,t.__)("↑ before","bsx-blocks"),(0,t.__)("↓ after","bsx-blocks"),(0,t.__)("↕ Y (before & after)","bsx-blocks"),(0,t.__)("← left","bsx-blocks"),(0,t.__)("→ right","bsx-blocks"),(0,t.__)("↔ X (left & right)","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Muted","bsx-blocks"),(0,t.__)("Body","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Inherit","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Link Button","bsx-blocks"),(0,t.__)("Text link","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("White opaque","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black","bsx-blocks"),(0,t.__)("Black opaque","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Primary opaque","bsx-blocks"),(0,t.__)("Primary transparent","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Secondary opaque","bsx-blocks"),(0,t.__)("Secondary transparent","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Success opaque","bsx-blocks"),(0,t.__)("Success transparent","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Danger opaque","bsx-blocks"),(0,t.__)("Danger transparent","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Warning opaque","bsx-blocks"),(0,t.__)("Warning transparent","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Info opaque","bsx-blocks"),(0,t.__)("Info transparent","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Light opaque","bsx-blocks"),(0,t.__)("Light transparent","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Dark opaque","bsx-blocks"),(0,t.__)("Dark transparent","bsx-blocks"),(0,t.__)("Transparent","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("left","bsx-blocks"),(0,t.__)("Center","bsx-blocks"),(0,t.__)("Right","bsx-blocks"),[{icon:"editor-alignleft",title:(0,t.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,t.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,t.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,t.__)("– unset –","bsx-blocks"),align:""}]),f=(e,o,l)=>{const i=k;return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Margin after","bsx-blocks"),value:e,onChange:o,options:u(i,l),help:(0,t.__)("Spacer after element","bsx-blocks")})},m=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"25",label:(0,t.__)("25 %","bsx-blocks")},{value:"50",label:(0,t.__)("50 %","bsx-blocks")},{value:"75",label:(0,t.__)("75 %","bsx-blocks")},{value:"100",label:(0,t.__)("100 %","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Width","bsx-blocks"),value:e,onChange:o,options:u(i,l)})},j=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"cover",label:(0,t.__)("Cover","bsx-blocks")},{value:"contain",label:(0,t.__)("Contain","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Object-Fit","bsx-blocks"),value:e,onChange:o,options:u(i,l)})},y=(e,o,l)=>{const i=[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"hidden",label:(0,t.__)("Hidden","bsx-blocks")},{value:"auto",label:(0,t.__)("Auto","bsx-blocks")}];return(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Overflow","bsx-blocks"),value:e,onChange:o,options:u(i,l)})},w=(e,o,l)=>{const i=[{value:"1",label:(0,t.__)("100%","bsx-blocks")},{value:"0.75",label:(0,t.__)("75%","bsx-blocks")},{value:"0.5",label:(0,t.__)("50%","bsx-blocks")},{value:"0.25",label:(0,t.__)("25%","bsx-blocks")}];return(0,s.jsx)(n.RadioControl,{label:(0,t.__)("Scale","bsx-blocks"),selected:e+"",options:u(i,l),onChange:o})},C=JSON.parse('{"UU":"bsx-blocks/video"}');(0,e.registerBlockType)(C.UU,{icon:l,edit:function({attributes:e,setAttributes:l}){const{notHasFigure:r,figcaption:a,videoId:c,videoUrl:b,videoIsHvc1:d,video2Id:u,video2Url:g,video3Id:k,video3Url:C,videoWidth:S,videoHeight:B,posterId:F,posterUrl:M,scale:T,width:A,height:I,displayedWidth:U,displayedHeight:H,controls:L,autoplay:N,playsinline:W,loop:D,muted:P,textAlign:$,marginAfter:R,objectFit:q,overflow:O}=e,X=e=>{void 0!==e.url&&l({videoId:e.id,videoUrl:e.url,videoWidth:parseFloat(e.width),videoHeight:parseFloat(e.height),displayedWidth:T?T*parseFloat(e.width):parseFloat(e.width),displayedHeight:T?T*parseFloat(e.height):parseFloat(e.height)})},z=e=>{void 0!==e.url&&l({video2Id:e.id,video2Url:e.url})},V=e=>{void 0!==e.url&&l({video3Id:e.id,video3Url:e.url})},E=e=>{void 0!==e.url&&l({posterId:e.id,posterUrl:e.url})},Y=x({textAlign:$,marginAfter:R,width:A,height:I,objectFit:q,overflow:O});let G="img-fluid align-middle";r&&(G+=Y?" "+Y:"");const J=p({controls:!0,autoplay:N,loop:D,playsinline:W,muted:P,poster:M,width:U||(T?T*S:S),height:H||(T?T*B:B)}),K=_(b),Q="mov"==K&&d?"video/mp4; codecs=hvc1":"video/"+K,Z="video/"+_(g),ee="video/"+_(C),se=p({}),oe=p({}),le=p({}),te=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:b,type:Q,...se}),g&&(0,s.jsx)("source",{src:g,type:Z,...oe}),C&&(0,s.jsx)("source",{src:C,type:ee,...le}),"Your browser does not support HTML video."]}),ie=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:b,type:Q}),"Your browser does not support HTML video."]}),ne=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:g,type:Z}),"Your browser does not support HTML video."]}),re=(0,s.jsxs)("video",{className:G,...J,children:[(0,s.jsx)("source",{src:C,type:ee}),"Your browser does not support HTML video."]}),ae=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.BlockControls,{children:!r&&(ce=$,be=e=>{l({textAlign:e})},(0,s.jsx)(i.AlignmentToolbar,{label:(0,t.__)("Alignment","bsx-blocks"),value:ce,onChange:be,alignmentControls:v}))}),(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Video","bsx-blocks"),children:[(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("If using transparency (alpha) put 1st mov file with HVC1 Codec active and 2nd webm file.","bsx-blocks")})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:ie})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:h(b)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video selected yet –","bsx-blocks")})}),(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video","bsx-blocks")})})]}),c&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Video is HVC1 Codec (mov file with alpha)","bsx-blocks"),checked:!!d,onChange:e=>{l({videoIsHvc1:e})}})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:z,allowedTypes:"video",value:u,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:ne})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:h(g)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video 2 selected yet –","bsx-blocks")})}),c&&(0,s.jsx)(i.MediaUpload,{onSelect:z,allowedTypes:"video",value:u,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video 2","bsx-blocks")})})]}),u&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({video2Id:"",video2Url:""})},isDestructive:!0,children:(0,t.__)("Remove video 2","bsx-blocks")})})}),(0,s.jsxs)("div",{class:"bsxui-config-panel-row",children:[k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.MediaUpload,{onSelect:V,allowedTypes:"video",value:k,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:re})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:h(C)})})]}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No video 3 selected yet –","bsx-blocks")})}),u&&(0,s.jsx)(i.MediaUpload,{onSelect:V,allowedTypes:"video",value:k,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload video 3","bsx-blocks")})})]}),k&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({video3Id:"",video3Url:""})},isDestructive:!0,children:(0,t.__)("Remove video 3","bsx-blocks")})})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Video settings","bsx-blocks"),children:[(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Controls","bsx-blocks"),checked:!!L,onChange:e=>{l({controls:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Autoplay","bsx-blocks"),checked:!!N,onChange:e=>{l({autoplay:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Playsinline","bsx-blocks"),checked:!!W,onChange:e=>{l({playsinline:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Loop","bsx-blocks"),checked:!!D,onChange:e=>{l({loop:e})}}),(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Muted","bsx-blocks"),checked:!!P,onChange:e=>{l({muted:e})}})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Poster image (recommended)","bsx-blocks"),children:[F?(0,s.jsx)(i.MediaUpload,{onSelect:E,allowedTypes:"image",value:F,render:({open:e})=>(0,s.jsx)(n.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,s.jsx)("img",{class:"bsxui-config-panel-img",src:M,alt:(0,t.__)("Change / upload poster image","bsx-blocks")})})}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No poster image selected yet –","bsx-blocks")})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(i.MediaUpload,{onSelect:E,allowedTypes:"image",value:F,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload poster image","bsx-blocks")})})}),F&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(n.Button,{onClick:()=>{l({posterId:"",posterUrl:""})},isDestructive:!0,children:(0,t.__)("Remove poster image","bsx-blocks")})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Dimensions","bsx-blocks"),children:[(0,s.jsx)(n.TextControl,{label:(0,t.__)("Displayed width","bsx-blocks"),value:U+"",onChange:e=>{l({displayedWidth:parseFloat(e),displayedHeight:Math.round(e/S*B),scale:parseFloat(e/S)})}}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Displayed height","bsx-blocks"),value:H+"",onChange:e=>{l({displayedHeight:parseFloat(e),displayedWidth:Math.round(e/B*S),scale:parseFloat(e/B)})}}),w(T,(e=>{l({scale:parseFloat(e),displayedWidth:e?Math.round(S*parseFloat(e)):S,displayedHeight:e?Math.round(B*parseFloat(e)):B})}))]}),(0,s.jsx)(n.PanelBody,{title:(0,t.__)("Margin (optional)","bsx-blocks"),children:f(R,(e=>{l({marginAfter:e})}))})]}),(0,s.jsxs)(i.InspectorAdvancedControls,{children:[(0,s.jsx)(n.ToggleControl,{label:(0,t.__)("Not wrapped by figure","bsx-blocks"),checked:!!r,onChange:e=>{l(e?{notHasFigure:e,textAlign:"",figcaption:""}:{notHasFigure:e})}}),m(A,(e=>{l({width:e})})),m(I,(e=>{l({height:e})})),j(q,(e=>{l({objectFit:e})})),y(O,(e=>{l({overflow:e})}))]})]});var ce,be;const de=(0,i.useBlockProps)({className:Y});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("figure",{...de,children:[c?(0,s.jsx)(s.Fragment,{children:te}):(0,s.jsx)("div",{className:"bsxui-img-upload-placeholder-empty",children:(0,s.jsx)(i.MediaUpload,{onSelect:X,allowedTypes:"video",value:c,render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,className:"bsxui-banner-button",title:(0,t.__)("Select / upload video","bsx-blocks"),children:o})})}),!r&&(0,s.jsx)(i.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,t.__)("Caption (optional)","bsx-blocks"),value:a,onChange:e=>{l({figcaption:e})}})]}),ae]})},save:function({attributes:e}){const{className:o,notHasFigure:l,figcaption:t,videoId:n,videoUrl:r,videoIsHvc1:a,video2Id:c,video2Url:b,video3Id:d,video3Url:u,videoWidth:h,videoHeight:g,posterId:k,posterUrl:v,scale:f,width:m,height:j,displayedWidth:y,displayedHeight:w,controls:C,autoplay:S,playsinline:B,loop:F,muted:M,textAlign:T,marginAfter:A,objectFit:I,overflow:U}=e,H=x({textAlign:T,marginAfter:A,width:m,height:j,objectFit:I,overflow:U});let L="img-fluid align-middle";l&&(L+=H?" "+H:"");const N=p({controls:C,autoplay:S,loop:F,playsinline:B,muted:M,poster:v,width:y||(f?f*h:h),height:w||(f?f*g:g)}),W=_(r),D="mov"==W&&a?"video/mp4; codecs=hvc1":"video/"+W,P="video/"+_(b),$="video/"+_(u),R=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("source",{src:r,type:D}),b&&(0,s.jsx)("source",{src:b,type:P}),u&&(0,s.jsx)("source",{src:u,type:$}),"Your browser does not support HTML video."]});return(0,s.jsx)(s.Fragment,{children:l?(0,s.jsx)("video",{...i.useBlockProps.save({className:L,...N}),children:R}):(0,s.jsx)("figure",{...i.useBlockProps.save({className:H}),children:!!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("video",{className:L,...N,children:R}),t&&!i.RichText.isEmpty(t)&&(0,s.jsx)(i.RichText.Content,{tagName:"figcaption",className:"font-italic",value:t})]})})})}})})();