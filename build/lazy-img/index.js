(()=>{"use strict";const e=window.wp.blocks,s=window.ReactJSXRuntime,l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{d:"M18.71,1.29C18.52,1.11,18.26,1,18,1H2C1.74,1,1.48,1.11,1.29,1.29C1.11,1.48,1,1.74,1,2v16c0,0.26,0.11,0.52,0.29,0.71 C1.48,18.89,1.74,19,2,19h16c0.26,0,0.52-0.11,0.71-0.29C18.89,18.52,19,18.26,19,18V2C19,1.74,18.89,1.48,18.71,1.29z M3,17V3h14 l0,14H3z M9,12l-2-1l-3,2v2.98h12V11l-3-2L9,12z M7.5,9C8.88,9,10,7.88,10,6.5S8.88,4,7.5,4S5,5.12,5,6.5S6.12,9,7.5,9z"})}),i=window.wp.i18n,t=window.wp.blockEditor,o=window.wp.components,a=["xs","sm","md","lg","xl","xxl"],n={margin:"m",padding:"p",textAlign:"text",display:"d"},r=["t","s","b","e"];function b(e,s){if(!s||"object"!=typeof s)return"";const l=n[e];let i=[];return a.forEach((e=>{const t=s[e];if(!Array.isArray(t))return;let o=t.map((e=>e||""));const a="xs"!==e?e+"-":"";if(o.every((e=>""!==e&&e===o[0])))return void i.push(`${l}-${a}${o[0]}`);let n=[!1,!1,!1,!1];""!==o[0]&&o[0]===o[2]&&(i.push(`${l}y-${a}${o[0]}`),n[0]=n[2]=!0),""!==o[1]&&o[1]===o[3]&&(i.push(`${l}x-${a}${o[1]}`),n[1]=n[3]=!0),r.forEach(((e,s)=>{n[s]||""===o[s]||i.push(`${l}${e}-${a}${o[s]}`)}))})),i.join(" ")}function c(e,s){if(!s||"object"!=typeof s)return"";const l=n[e];let i=[];return a.forEach((e=>{const t=s[e];if(!t)return;let o="xs"!==e?e+"-":"";i.push(`${l}-${o}${t}`)})),i.join(" ")}function h(e,s){const{belowNavbar:l,touchFooter:i,display:t,marginBefore:o,marginAfter:a,marginLeft:n,marginRight:r,resMargin1Breakpoint:h,resMargin1Position:g,resMargin1Size:d,resMargin2Breakpoint:u,resMargin2Position:x,resMargin2Size:_,paddingBefore:p,paddingAfter:m,paddingLeft:k,paddingRight:f,bgColor:w,textColor:v,textBgColor:y,textSize:j,rounded:C,textAlign:S,resTextAlignBreakpoint:z,resTextAlign:I,textShadow:A,fontWeight:B,inverseTextColor:T,headingInheritTextColor:$,headingInheritFontWeight:F,width:L,height:M,imgThumbnail:R,borderState:D,border:W,hoverShadow:N,hoverMove:P,disabled:E,verticalAlign:H,speechBubble:q,isAlert:U,state:X,objectFit:O,overflow:G,multilayer:Z,zIndex:V,isBannerInner:J,isTop0:Y,isBottom0:K,isLeft0:Q,isRight0:ee,position:se,flexDirection:le,alignItems:ie,gutter:te,rowReverse:oe,justifyContent:ae,textColumns:ne,margin:re,padding:be}=e,ce=void 0!==s&&s.trim().length>0?s.split(" "):[];if(l&&ce.push("below-navbar-content"),i&&ce.push("mb-n-footer-space"),o&&o===a&&o===n&&o===r?ce.push("m-"+o):(o&&o===a?ce.push("my-"+o):(o&&ce.push("mt-"+o),a&&ce.push("mb-"+a)),n&&n===r?ce.push("mx-"+n):(n&&ce.push("ml-"+n),r&&ce.push("mr-"+r))),h&&g&&d&&ce.push("m"+("all"===g?"":g)+"-"+("xs"===h?"":h+"-")+d),u&&x&&_&&ce.push("m"+("all"===x?"":x)+"-"+("xs"===u?"":u+"-")+_),re&&"object"==typeof re){const e=b("margin",re);e&&ce.push(e)}if(be&&"object"==typeof be){const e=b("padding",be);e&&ce.push(e)}if(S&&"object"==typeof S){const e=c("textAlign",S);e&&ce.push(e)}if(t&&"object"==typeof t){const e=c("display",t);e&&ce.push(e)}return p&&p===m&&p===k&&p===f?ce.push("p-"+p):(p&&p===m?ce.push("py-"+p):(p&&ce.push("pt-"+p),m&&ce.push("pb-"+m)),k&&k===f?ce.push("px-"+k):(k&&ce.push("pl-"+k),f&&ce.push("pr-"+f))),w&&(-1!==w.indexOf("-transparent")?(ce.push("bg-opacity-50"),ce.push("bg-"+w.replace("-transparent",""))):-1!==w.indexOf("-opaque")?(ce.push("bg-opacity-75"),ce.push("bg-"+w.replace("-opaque",""))):ce.push("bg-"+w)),v&&ce.push("text-"+v),y&&ce.push("text-bg-"+y),j&&ce.push(j),A&&ce.push("text-shadow-"+A),B&&ce.push("font-weight-"+B),T&&ce.push("text-inverse"),$&&ce.push("heading-inherit-text"),F&&ce.push("heading-inherit-font-weight"),C&&(1==C||"rounded"==C?ce.push("rounded"):ce.push("rounded-"+C)),z&&I&&ce.push("text-"+z+"-"+I),L&&ce.push("w-"+L),M&&ce.push("h-"+M),R&&ce.push("img-thumbnail"),W&&("true"==W?ce.push("border"):"x"==W?(ce.push("border-left"),ce.push("border-right")):"y"==W?(ce.push("border-top"),ce.push("border-bottom")):"u"==W?(ce.push("border-left"),ce.push("border-right"),ce.push("border-bottom")):"inverted-u"==W?(ce.push("border-left"),ce.push("border-right"),ce.push("border-top")):ce.push("border-"+W)),D&&ce.push("border-"+D),N&&ce.push("hover-shadow"),P&&ce.push("hover-move"),E&&ce.push("disabled"),H&&ce.push("align-"+H),q&&(ce.push("speech-bubble"),"md"!=q&&ce.push("speech-bubble-"+q)),U&&(ce.push("alert"),X&&ce.push("alert-"+X)),O&&ce.push("object-fit-"+O),G&&ce.push("overflow-"+G),Z&&ce.push("multilayer-"+Z),V&&ce.push("z-"+V),J&&ce.push("banner-inner w-100 position-relative"),Y&&ce.push("top-0"),K&&ce.push("bottom-0"),Q&&ce.push("left-0"),ee&&ce.push("right-0"),se&&ce.push("position-"+se),""!=typeof te&&void 0!==te&&ce.push("g-"+te),oe&&("xs"==oe?ce.push("flex-row-reverse"):ce.push("flex-"+oe+"-row-reverse")),ae&&ce.push("justify-content-"+ae),ne&&ce.push("text-columns-"+ne),le&&(-1===ce.indexOf("d-flex")&&ce.push("d-flex"),ce.push("flex-"+le)),ie&&(-1===ce.indexOf("d-flex")&&ce.push("d-flex"),ce.push("align-items-"+ie)),ce.join(" ")}const g=(e,s)=>{let l=[];return void 0!==s&&null!=s&&Array.isArray(s)&&s.length>0?e.forEach((e=>{void 0!==s.find((s=>s===e.value))&&l.push(e)})):l=e,l},d=((0,i.__)("– unset –","bsx-blocks"),(0,i.__)("Left","bsx-blocks"),(0,i.__)("Center","bsx-blocks"),(0,i.__)("Right","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("Block","bsx-blocks"),(0,i.__)("Inline","bsx-blocks"),(0,i.__)("Flex","bsx-blocks"),(0,i.__)("Grid","bsx-blocks"),[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"0",label:(0,i.__)("none (0)","bsx-blocks")},{value:"1",label:(0,i.__)("extra small","bsx-blocks")},{value:"2",label:(0,i.__)("small","bsx-blocks")},{value:"3",label:(0,i.__)("medium","bsx-blocks")},{value:"4",label:(0,i.__)("large","bsx-blocks")},{value:"5",label:(0,i.__)("extra large","bsx-blocks")}]),u=((0,i.__)("auto","bsx-blocks"),d),x=((0,i.__)("XS (default)","bsx-blocks"),(0,i.__)("SM","bsx-blocks"),(0,i.__)("MD","bsx-blocks"),(0,i.__)("LG","bsx-blocks"),(0,i.__)("XL","bsx-blocks"),(0,i.__)("XXL","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("XS (default)","bsx-blocks"),(0,i.__)("SM","bsx-blocks"),(0,i.__)("MD","bsx-blocks"),(0,i.__)("LG","bsx-blocks"),(0,i.__)("XL","bsx-blocks"),(0,i.__)("XXL","bsx-blocks"),(0,i.__)("All","bsx-blocks"),(0,i.__)("↑ before","bsx-blocks"),(0,i.__)("↓ after","bsx-blocks"),(0,i.__)("↕ Y (before & after)","bsx-blocks"),(0,i.__)("← left","bsx-blocks"),(0,i.__)("→ right","bsx-blocks"),(0,i.__)("↔ X (left & right)","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Muted","bsx-blocks"),(0,i.__)("Body","bsx-blocks"),(0,i.__)("White transparent","bsx-blocks"),(0,i.__)("Black transparent","bsx-blocks"),(0,i.__)("Inherit","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Link Button","bsx-blocks"),(0,i.__)("Text link","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("White opaque","bsx-blocks"),(0,i.__)("White transparent","bsx-blocks"),(0,i.__)("Black","bsx-blocks"),(0,i.__)("Black opaque","bsx-blocks"),(0,i.__)("Black transparent","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Primary opaque","bsx-blocks"),(0,i.__)("Primary transparent","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Secondary opaque","bsx-blocks"),(0,i.__)("Secondary transparent","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Success opaque","bsx-blocks"),(0,i.__)("Success transparent","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Danger opaque","bsx-blocks"),(0,i.__)("Danger transparent","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Warning opaque","bsx-blocks"),(0,i.__)("Warning transparent","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Info opaque","bsx-blocks"),(0,i.__)("Info transparent","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Light opaque","bsx-blocks"),(0,i.__)("Light transparent","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Dark opaque","bsx-blocks"),(0,i.__)("Dark transparent","bsx-blocks"),(0,i.__)("Transparent","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("left","bsx-blocks"),(0,i.__)("Center","bsx-blocks"),(0,i.__)("Right","bsx-blocks"),[{icon:"editor-alignleft",title:(0,i.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,i.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,i.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,i.__)("– unset –","bsx-blocks"),align:""}]),_=(e,l)=>(0,s.jsx)(o.ToggleControl,{label:(0,i.__)("Open in new tab","bsx-blocks"),checked:"_blank"==e,onChange:l}),p=(e,l)=>(0,s.jsx)(t.URLInput,{label:(0,i.__)("Link URL","bsx-blocks"),value:e,onChange:l,__nextHasNoMarginBottom:!0}),m=(e,l)=>(0,s.jsx)(o.ToggleControl,{label:(0,i.__)("Disable responsive image downsizing","bsx-blocks"),checked:!!e,onChange:l,help:(0,i.__)("Enable if you don’t want smaller responsive image sizes, since small devices display image in large dimensions.","bsx-blocks")}),k=(e,l)=>(0,s.jsx)(o.TextControl,{label:(0,i.__)("Rel (optional)","bsx-blocks"),value:e,onChange:l}),f=(e,l,t)=>{const a=u;return(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Margin left","bsx-blocks"),value:e,onChange:l,options:g(a,t)})},w=(e,l,t)=>{const a=u;return(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Margin right","bsx-blocks"),value:e,onChange:l,options:g(a,t)})},v=(e,l,t)=>{const a=u;return(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Margin before","bsx-blocks"),value:e,onChange:l,options:g(a,t),help:(0,i.__)("Spacer before element","bsx-blocks")})},y=(e,l,t)=>{const a=u;return(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Margin after","bsx-blocks"),value:e,onChange:l,options:g(a,t),help:(0,i.__)("Spacer after element","bsx-blocks")})},j=(e,l,t)=>{const a=[{value:"1",label:(0,i.__)("100%","bsx-blocks")},{value:"0.75",label:(0,i.__)("75%","bsx-blocks")},{value:"0.5",label:(0,i.__)("50%","bsx-blocks")},{value:"0.25",label:(0,i.__)("25%","bsx-blocks")}];return(0,s.jsx)(o.RadioControl,{label:(0,i.__)("Scale","bsx-blocks"),selected:e+"",options:g(a,t),onChange:l})};async function C(e){try{return(await fetch(e,{method:"HEAD"})).ok}catch{return!1}}function S(e,s,l){return e>=s?{width:l,height:Math.round(s/e*l)}:{height:l,width:Math.round(e/s*l)}}const z=e=>{const s=new Map([["t","thumbnail"],["m","medium"],["e","medium_large"],["l","large"],["1","1536"],["2","2048"],["f","full"],["o","original"]]),l=s.get(e);if(l)return l;const i=[...s.entries()].find((([,s])=>s===e))?.[0];return i||void 0},I=e=>{const s=[];return void 0!==e[0]&&void 0!==e[0].sizes&&void 0!==e[0].trunc&&void 0!==e[0].ext&&e[0].sizes.forEach(((l,i)=>{void 0!==l.s&&void 0!==l.w&&void 0!==l.h&&s.push({key:z(l?.k)||null,url:e[0].trunc+l.s+"."+e[0].ext,width:l.w,height:l.h})})),s},A=e=>{const{fullImgData:s,sizeIndex:l,disableResponsiveDownsizing:i}=e,t=[];return i?t.push(s[l].url+" "+s[l].width+"w"):s.forEach(((e,i)=>{0===i?0!=l&&s[s.length-1].width!=s[s.length-1].height||t.push(e.url+" "+e.width+"w"):i<=l&&t.push(e.url+" "+e.width+"w")})),t.join(", ")};function B(e){const s={};for(let[l,i]of Object.entries(e))i&&(s[l]=i);return s}const T=JSON.parse('{"UU":"bsx-blocks/lazy-img"}');window.wp.data,(0,e.registerBlockType)(T.UU,{icon:l,edit:function({attributes:e,setAttributes:l,clientId:a}){const{priority:n,imgId:r,imgData:b,sizeIndex:c,origWidth:g,origHeight:d,alt:u,figcaption:B,rounded:T,imgThumbnail:$,borderState:F,zoomable:L,externalGalleryParent:M,zoomSizeIndex:R,disableResponsiveDownsizing:D,textAlign:W,marginBefore:N,marginAfter:P,marginLeft:E,marginRight:H,aAdditionalClassName:q,imgAdditionalClassName:U,href:X,target:O,rel:G,displayedWidth:Z,displayedHeight:V,noFigureTag:J}=e,Y=I(b);let K=c&&Y?.[c]?.width&&Z?parseInt(Z)/Y[c].width:null;const Q=h({textAlign:W,marginBefore:N,marginAfter:P,marginLeft:E,marginRight:H}),ee=(0,t.useBlockProps)({className:Q});async function se(e){if(void 0!==e.url){const s=await async function(e){const s=e.sizes||{},l=[];for(const e of["thumbnail","medium","large","full"]){const i=s[e];i?.url&&i?.width&&i?.height&&l.push({key:e,url:i.url,width:i.width,height:i.height})}let i=null,t=null,o=null;if(e.originalImageURL){const s=await async function(e){return new Promise((s=>{const l=new Image;l.onload=()=>s({width:l.naturalWidth,height:l.naturalHeight}),l.onerror=()=>s(null),l.src=e}))}(e.originalImageURL);s&&(l.push({key:"original",url:e.originalImageURL,width:s.width,height:s.height}),i=e.originalImageURL,t=s.width,o=s.height)}if(null!==t&&null!==o||(i=e?.sizes?.full?.url,t=e?.sizes?.full?.width,o=e?.sizes?.full?.height),s.medium_large?.url)l.push({key:"medium_large",url:s.medium_large.url,width:s.medium_large.width,height:s.medium_large.height});else if(t>770&&i){const e=i.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),s=e?e[0]:"",a=i.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),n=768,r=o/t,b=Math.round(n*r),c=`${a}-${n}x${b}${s}`;await C(c)&&l.push({key:"medium_large",url:c,width:n,height:b})}if(i){const e=i.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),s=e?e[0]:"",a=i.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,"");for(const e of[2048,1536]){const{width:i,height:n}=S(t,o,e),r=`${a}-${i}x${n}${s}`;await C(r)&&l.push({key:`${e}`,url:r,width:i,height:n})}}return l.sort(((e,s)=>e.width*e.height-s.width*s.height)),l}(e),i=s[s.length-1],t=i.width,o=i.height,a=(e=>{const s=e[0].url.split(".").pop(),l=e[0].url.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),i=[];return e.forEach((e=>{i.push({s:e.url.replace(l,"").replace("."+s,""),w:e.width,h:e.height,k:z(e.key)})})),[{trunc:l,ext:s,sizes:i}]})(s);let n=parseInt(c);parseInt(c)>=s.length&&(n=s.length-1);let r=R;(L&&!R||parseInt(R)<parseInt(n)||parseInt(R)>=parseInt(s.length))&&(r=(s.length-1).toString());const b=s[n].width,h=s[n].height;l({imgId:e.id,imgData:a,sizeIndex:n.toString(),origWidth:t,origHeight:o,alt:e.alt,zoomSizeIndex:r,...K&&!Z&&!V&&{displayedWidth:b*K,displayedHeight:h*K},...Z&&{displayedHeight:h*Z/b},...V&&{displayedWidth:b*V/h}})}}const le=[];void 0!==Y&&Y.forEach(((e,s)=>{const l=Y[Y.length-1].width!==Y[Y.length-1].height&&e.width===e.height;le.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,i.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}));const ie=[];void 0!==Y&&Y.forEach(((e,s)=>{if(s>=c){const l=Y[Y.length-1].width!==Y[Y.length-1].height&&e.width===e.height;ie.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,i.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}}));const te=h({rounded:T,imgThumbnail:$,borderState:F},"img-fluid"+(U?" "+U:"")),oe=r&&c&&void 0!==Y&&Y.length>0&&void 0!==Y[c]&&c<Y.length;let ae;if(oe){const e=A({fullImgData:Y,sizeIndex:c}),l=oe?Y[c].url:"",i=oe&&Z?Z:oe?Y[c].width:"",t=oe&&V?V:oe?Y[c].height:"",o=i&&t?"(max-width: "+i+"px) 100vw, "+i+"px":"";ae=(0,s.jsx)("img",{className:te,src:l,srcset:e,sizes:o,alt:u,width:i,height:t,...n?{loading:"eager",fetchpriority:"high"}:{loading:"lazy"},decoding:"async"})}else ae=(0,s.jsx)(s.Fragment,{children:"Empty image"});const ne=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.BlockControls,{children:(re=W,be=e=>{l({textAlign:e})},(0,s.jsx)(t.AlignmentToolbar,{label:(0,i.__)("Alignment","bsx-blocks"),value:re,onChange:be,alignmentControls:x}))}),(0,s.jsxs)(t.InspectorControls,{children:[(0,s.jsxs)(o.PanelBody,{title:(0,i.__)("Image","bsx-blocks"),children:[(0,s.jsx)(o.TextControl,{label:(0,i.__)("Alt","bsx-blocks"),value:u,onChange:e=>{l({alt:e})}}),r&&c?(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,s.jsx)("img",{class:"bsxui-config-panel-img",src:Y[c].url,alt:(0,i.__)("Change / upload image","bsx-blocks")})})}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,i.__)("– No image selected yet –","bsx-blocks")})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{onClick:e,isSecondary:!0,children:(0,i.__)("Change / upload image","bsx-blocks")})})}),(0,s.jsx)(o.ToggleControl,{label:(0,i.__)("Enable priority loading","bsx-blocks"),checked:n,onChange:e=>{l({priority:e})}}),(0,s.jsx)(o.RadioControl,{label:(0,i.__)("Image size and format","bsx-blocks"),selected:c?c.toString():null,options:le,onChange:e=>{K=parseFloat(Y[e].width/Y[e].height),l({sizeIndex:e.toString(),displayedWidth:parseInt(Y[e].width),displayedHeight:parseInt(Y[e].height)})}}),c&&null!=Y[c]&&null!=Y[c].url&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.jsx)("a",{class:"bsxui-link",href:Y[c].url,target:"_blank",children:(0,i.__)("Preview selected image","bsx-blocks")})})}),r&&c&&void 0!==Y&&void 0!==Y[c]&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.TextControl,{label:(0,i.__)("Displayed width","bsx-blocks"),value:Z||Y[c].width,onChange:e=>{K=parseFloat(e/Y[c].width),l({displayedWidth:e!=Y[c].width?parseFloat(e):"",displayedHeight:e!=Y[c].height?Math.round(e/Y[c].width*Y[c].height):""})}}),(0,s.jsx)(o.TextControl,{label:(0,i.__)("Displayed height","bsx-blocks"),value:V||Y[c].height,onChange:e=>{K=parseFloat(e/Y[c].height),l({displayedHeight:e!=Y[c].width?parseFloat(e):Y[c].width,displayedWidth:e!=Y[c].height?Math.round(e/Y[c].height*Y[c].width):""})}}),j(K,(e=>{K=e,l({displayedWidth:e&&e!=Y[c].width?Math.round(Y[c].width*parseFloat(e)):"",displayedHeight:e&&e!=Y[c].height?Math.round(Y[c].height*parseFloat(e)):""})}))]}),(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Rounded","bsx-blocks"),value:T,onChange:e=>{l({rounded:e})},options:[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"rounded",label:(0,i.__)("Rounded corners","bsx-blocks")},{value:"circle",label:(0,i.__)("Circle","bsx-blocks")}]}),(0,s.jsx)(o.ToggleControl,{label:(0,i.__)("Border","bsx-blocks"),checked:!!$,onChange:e=>{l({imgThumbnail:e})}}),(0,s.jsx)(o.SelectControl,{label:(0,i.__)("Border color","bsx-blocks"),value:F,onChange:e=>{l({borderState:e})},options:[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"white",label:(0,i.__)("White","bsx-blocks")},{value:"primary",label:(0,i.__)("Primary","bsx-blocks")},{value:"secondary",label:(0,i.__)("Secondary","bsx-blocks")},{value:"success",label:(0,i.__)("Success","bsx-blocks")},{value:"danger",label:(0,i.__)("Danger","bsx-blocks")},{value:"warning",label:(0,i.__)("Warning","bsx-blocks")},{value:"info",label:(0,i.__)("Info","bsx-blocks")},{value:"light",label:(0,i.__)("Light","bsx-blocks")},{value:"dark",label:(0,i.__)("Dark","bsx-blocks")}]})]}),(0,s.jsx)(o.PanelBody,{title:(0,i.__)("Zoomable (optional)","bsx-blocks"),children:X&&!L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Zoomable image is deactivated since href is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ToggleControl,{className:J?"bsxui-disabled":"",label:(0,i.__)("Zoomable image","bsx-blocks"),checked:!!L,onChange:e=>{const s=null==R?(Y.length-1).toString():R;l({zoomable:e,zoomSizeIndex:s,href:e?Y[s].url:null,target:e?"_blank":null})},help:(0,i.__)("If enabled click on image will open shadowbox gallery with large image.","bsx-blocks")}),L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.RadioControl,{label:(0,i.__)("Zoom image size","bsx-blocks"),selected:R,options:ie,onChange:e=>{l({zoomSizeIndex:e.toString()})}}),c==R&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Currently your zoom image is not larger than your original image.","bsx-blocks")})}),(0,s.jsx)(o.ToggleControl,{label:(0,i.__)("External gallery parent","bsx-blocks"),checked:!!M,onChange:e=>{l({externalGalleryParent:e})},help:(0,i.__)("Enabled if using custom external shadowbox gallery element (e.g. configured BSX Wrapper) wrapping this image.","bsx-blocks")})]})]})}),(0,s.jsx)(o.PanelBody,{title:(0,i.__)("Link (optional)","bsx-blocks"),children:L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Link is deactivated since Zoomable image is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[p(X,(e=>{l(""==X?{href:e,aAdditionalClassName:""}:{href:e})})),_(O,(e=>{l({target:e?"_blank":""})})),k(G,(e=>{l({rel:e})}))]})}),(0,s.jsxs)(o.PanelBody,{title:(0,i.__)("Margin","bsx-blocks"),children:[f(E,(e=>{l({marginLeft:e})})),w(H,(e=>{l({marginRight:e})})),v(N,(e=>{l({marginBefore:e})})),y(P,(e=>{l({marginAfter:e})}))]})]}),(0,s.jsxs)(t.InspectorAdvancedControls,{children:[m(D,(e=>{l({disableResponsiveDownsizing:e})})),(0,s.jsx)(o.ToggleControl,{className:L?"bsxui-disabled":"",label:(0,i.__)("No figure tag","bsx-blocks"),checked:!!J,onChange:e=>{l({noFigureTag:e,zoomable:!1,figcaption:[]})}}),!!L&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Figure tag must exist since Zoomable image is set.","bsx-blocks")})}),!!X&&(0,s.jsx)(o.TextControl,{label:(0,i.__)("A element additional class(es)","bsx-blocks"),value:q,onChange:e=>{l({aAdditionalClassName:e})}}),(0,s.jsx)(o.TextControl,{label:(0,i.__)("Image element additional class(es)","bsx-blocks"),value:U,onChange:e=>{l({imgAdditionalClassName:e})}})]})]});var re,be;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("figure",{...ee,children:[r&&c?(0,s.jsx)(s.Fragment,{children:L?(0,s.jsx)("a",{className:"zoomable-img",children:ae}):(0,s.jsx)(s.Fragment,{children:ae})}):(0,s.jsx)("div",{className:"bsxui-img-upload-placeholder",children:(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{onClick:e,isSecondary:!0,children:(0,i.__)("Select / upload Image","bsx-blocks")})})}),(0,s.jsx)(t.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,i.__)("Caption (optional)","bsx-blocks"),value:B,onChange:e=>{l({figcaption:e})},keepPlaceholderOnFocus:!0})]}),ne]})},save:function({attributes:e}){const{priority:l,className:i,sizeIndex:o,imgData:a,origWidth:n,origHeight:r,alt:b,figcaption:c,rounded:g,imgThumbnail:d,borderState:u,zoomable:x,externalGalleryParent:_,zoomSizeIndex:p,disableResponsiveDownsizing:m,textAlign:k,marginBefore:f,marginAfter:w,marginLeft:v,marginRight:y,aAdditionalClassName:j,imgAdditionalClassName:C,href:S,target:z,rel:T,displayedWidth:$,displayedHeight:F,noFigureTag:L}=e,M=I(a),R=h({textAlign:k,marginBefore:f,marginAfter:w,marginLeft:v,marginRight:y},i),D=x?"zoomable-img":S&&j?j:"",W=h({rounded:g,imgThumbnail:d,borderState:u},"img-fluid"+(C?" "+C:"")),N=x&&!_?B({"data-bsx":"lightbox"}):{},P=B({href:S,target:z,rel:T,"data-pswp-width":x&&void 0!==M[p]?M[p].width:null,"data-pswp-height":x&&void 0!==M[p]?M[p].height:null,"data-bsx-t":x?"lightbox-item":null}),E=void 0!==M&&M.length>0&&void 0!==M[o]&&o<M.length,H=A({fullImgData:M,sizeIndex:o,disableResponsiveDownsizing:m}),q=E?M[o].url:"",U=E&&$?$:E?M[o].width:"",X=E&&F?F:E?M[o].height:"",O=U&&X?"(max-width: "+U+"px) 100vw, "+U+"px":"",G=W,Z=E?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("img",{className:G,src:q,srcset:H,sizes:O,alt:b,width:U,height:X,...l?{loading:"eager",fetchpriority:"high"}:{loading:"lazy"},decoding:"async"})}):(0,s.jsx)(s.Fragment,{}),V=(0,s.jsx)(s.Fragment,{children:x||S?(0,s.jsx)("a",{className:D,...P,...t.useBlockProps.save({className:D,...N}),children:Z}):(0,s.jsx)(s.Fragment,{children:Z})});return(0,s.jsx)(s.Fragment,{children:L?(0,s.jsx)(s.Fragment,{children:void 0!==M&&void 0!==M[o]&&void 0!==M[o].url&&M[o].url&&(0,s.jsx)(s.Fragment,{children:V})}):(0,s.jsx)("figure",{...t.useBlockProps.save({className:R,...N}),children:void 0!==M&&void 0!==M[o]&&void 0!==M[o].url&&M[o].url&&(0,s.jsxs)(s.Fragment,{children:[V,c&&!t.RichText.isEmpty(c)&&(0,s.jsx)(t.RichText.Content,{tagName:"figcaption",className:"font-italic",value:c})]})})})}})})();