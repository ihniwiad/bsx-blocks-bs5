(()=>{"use strict";const e=window.wp.blocks,i=window.ReactJSXRuntime,t=(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,i.jsx)("path",{d:"M18.71,1.29C18.52,1.11,18.26,1,18,1H2C1.74,1,1.48,1.11,1.29,1.29C1.11,1.48,1,1.74,1,2v16c0,0.26,0.11,0.52,0.29,0.71 C1.48,18.89,1.74,19,2,19h16c0.26,0,0.52-0.11,0.71-0.29C18.89,18.52,19,18.26,19,18V2C19,1.74,18.89,1.48,18.71,1.29z M3,17V3h14 l0,14H3z M9,12l-2-1l-3,2v2.98h12V11l-3-2L9,12z M7.5,9C8.88,9,10,7.88,10,6.5S8.88,4,7.5,4S5,5.12,5,6.5S6.12,9,7.5,9z"})}),s=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components,l=window.wp.data;function n(e,i){const{belowNavbar:t,touchFooter:s,display:a,marginBefore:r,marginAfter:l,marginLeft:n,marginRight:o,resMargin1Breakpoint:g,resMargin1Position:d,resMargin1Size:h,resMargin2Breakpoint:c,resMargin2Position:b,resMargin2Size:m,paddingBefore:u,paddingAfter:p,paddingLeft:x,paddingRight:_,bgColor:f,textColor:v,textBgColor:k,textSize:w,rounded:I,textAlign:y,resTextAlignBreakpoint:z,resTextAlign:S,textShadow:j,fontWeight:C,inverseTextColor:A,headingInheritTextColor:N,headingInheritFontWeight:B,width:F,height:D,imgThumbnail:T,borderState:W,border:R,hoverShadow:M,hoverMove:P,disabled:H,verticalAlign:E,speechBubble:L,isAlert:q,state:U,objectFit:O,overflow:G,multilayer:Z,zIndex:X,isBannerInner:V,isTop0:J,isBottom0:Y,isLeft0:K,isRight0:Q,position:$}=e,ee=void 0!==i&&i.trim().length>0?i.split(" "):[];return t&&ee.push("below-navbar-content"),s&&ee.push("mb-n-footer-space"),a&&ee.push("d-"+a),r&&r===l&&r===n&&r===o?ee.push("m-"+r):(r&&r===l?ee.push("my-"+r):(r&&ee.push("mt-"+r),l&&ee.push("mb-"+l)),n&&n===o?ee.push("mx-"+n):(n&&ee.push("ml-"+n),o&&ee.push("mr-"+o))),g&&d&&h&&ee.push("m"+("all"===d?"":d)+"-"+("xs"===g?"":g+"-")+h),c&&b&&m&&ee.push("m"+("all"===b?"":b)+"-"+("xs"===c?"":c+"-")+m),u&&u===p&&u===x&&u===_?ee.push("p-"+u):(u&&u===p?ee.push("py-"+u):(u&&ee.push("pt-"+u),p&&ee.push("pb-"+p)),x&&x===_?ee.push("px-"+x):(x&&ee.push("pl-"+x),_&&ee.push("pr-"+_))),f&&ee.push("bg-"+f),v&&ee.push("text-"+v),k&&ee.push("text-bg-"+k),w&&ee.push(w),j&&ee.push("text-shadow-"+j),C&&ee.push("font-weight-"+C),A&&ee.push("text-inverse"),N&&ee.push("heading-inherit-text"),B&&ee.push("heading-inherit-font-weight"),I&&(1==I||"rounded"==I?ee.push("rounded"):ee.push("rounded-"+I)),y&&ee.push("text-"+y),z&&S&&ee.push("text-"+z+"-"+S),F&&ee.push("w-"+F),D&&ee.push("h-"+D),T&&ee.push("img-thumbnail"),R&&("true"==R?ee.push("border"):"x"==R?(ee.push("border-left"),ee.push("border-right")):"y"==R?(ee.push("border-top"),ee.push("border-bottom")):"u"==R?(ee.push("border-left"),ee.push("border-right"),ee.push("border-bottom")):"inverted-u"==R?(ee.push("border-left"),ee.push("border-right"),ee.push("border-top")):ee.push("border-"+R)),W&&ee.push("border-"+W),M&&ee.push("hover-shadow"),P&&ee.push("hover-move"),H&&ee.push("disabled"),E&&ee.push("align-"+E),L&&(ee.push("speech-bubble"),"md"!=L&&ee.push("speech-bubble-"+L)),q&&(ee.push("alert"),U&&ee.push("alert-"+U)),O&&ee.push("object-fit-"+O),G&&ee.push("overflow-"+G),Z&&ee.push("multilayer-"+Z),X&&ee.push("z-"+X),V&&ee.push("banner-inner"),J&&ee.push("top-0"),Y&&ee.push("bottom-0"),K&&ee.push("left-0"),Q&&ee.push("right-0"),$&&ee.push("position-"+$),ee.join(" ")}window.wp.coreData,window.wp.element;const o=(e,i)=>{let t=[];return void 0!==i&&null!=i&&Array.isArray(i)&&i.length>0?e.forEach((e=>{void 0!==i.find((i=>i===e.value))&&t.push(e)})):t=e,t},g=[{value:"",label:(0,s.__)("– unset –","bsx-blocks")},{value:"0",label:(0,s.__)("none (0)","bsx-blocks")},{value:"1",label:(0,s.__)("extra small","bsx-blocks")},{value:"2",label:(0,s.__)("small","bsx-blocks")},{value:"3",label:(0,s.__)("medium","bsx-blocks")},{value:"4",label:(0,s.__)("large","bsx-blocks")},{value:"5",label:(0,s.__)("extra large","bsx-blocks")}],d=((0,s.__)("– unset –","bsx-blocks"),(0,s.__)("Default (XS up)","bsx-blocks"),(0,s.__)("SM up","bsx-blocks"),(0,s.__)("MD up","bsx-blocks"),(0,s.__)("LG up","bsx-blocks"),(0,s.__)("XL up","bsx-blocks"),(0,s.__)("– unset –","bsx-blocks"),(0,s.__)("All","bsx-blocks"),(0,s.__)("Before","bsx-blocks"),(0,s.__)("After","bsx-blocks"),(0,s.__)("Y (before & after)","bsx-blocks"),(0,s.__)("Left","bsx-blocks"),(0,s.__)("Right","bsx-blocks"),(0,s.__)("X (left & right)","bsx-blocks"),(0,s.__)("– unset –","bsx-blocks"),(0,s.__)("White","bsx-blocks"),(0,s.__)("Primary","bsx-blocks"),(0,s.__)("Secondary","bsx-blocks"),(0,s.__)("Success","bsx-blocks"),(0,s.__)("Danger","bsx-blocks"),(0,s.__)("Warning","bsx-blocks"),(0,s.__)("Info","bsx-blocks"),(0,s.__)("Light","bsx-blocks"),(0,s.__)("Dark","bsx-blocks"),(0,s.__)("– unset –","bsx-blocks"),(0,s.__)("White","bsx-blocks"),(0,s.__)("Primary","bsx-blocks"),(0,s.__)("Secondary","bsx-blocks"),(0,s.__)("Success","bsx-blocks"),(0,s.__)("Danger","bsx-blocks"),(0,s.__)("Warning","bsx-blocks"),(0,s.__)("Info","bsx-blocks"),(0,s.__)("Light","bsx-blocks"),(0,s.__)("Dark","bsx-blocks"),(0,s.__)("Muted","bsx-blocks"),(0,s.__)("Body","bsx-blocks"),(0,s.__)("White transparent","bsx-blocks"),(0,s.__)("Black transparent","bsx-blocks"),(0,s.__)("Inherit","bsx-blocks"),(0,s.__)("Primary","bsx-blocks"),(0,s.__)("Secondary","bsx-blocks"),(0,s.__)("Success","bsx-blocks"),(0,s.__)("Danger","bsx-blocks"),(0,s.__)("Warning","bsx-blocks"),(0,s.__)("Info","bsx-blocks"),(0,s.__)("Light","bsx-blocks"),(0,s.__)("Dark","bsx-blocks"),(0,s.__)("Link Button","bsx-blocks"),(0,s.__)("Text link","bsx-blocks"),(0,s.__)("– unset –","bsx-blocks"),(0,s.__)("White","bsx-blocks"),(0,s.__)("White opaque","bsx-blocks"),(0,s.__)("White transparent","bsx-blocks"),(0,s.__)("Black","bsx-blocks"),(0,s.__)("Black opaque","bsx-blocks"),(0,s.__)("Black transparent","bsx-blocks"),(0,s.__)("Primary","bsx-blocks"),(0,s.__)("Primary opaque","bsx-blocks"),(0,s.__)("Primary transparent","bsx-blocks"),(0,s.__)("Secondary","bsx-blocks"),(0,s.__)("Secondary opaque","bsx-blocks"),(0,s.__)("Secondary transparent","bsx-blocks"),(0,s.__)("Success","bsx-blocks"),(0,s.__)("Success opaque","bsx-blocks"),(0,s.__)("Success transparent","bsx-blocks"),(0,s.__)("Danger","bsx-blocks"),(0,s.__)("Danger opaque","bsx-blocks"),(0,s.__)("Danger transparent","bsx-blocks"),(0,s.__)("Warning","bsx-blocks"),(0,s.__)("Warning opaque","bsx-blocks"),(0,s.__)("Warning transparent","bsx-blocks"),(0,s.__)("Info","bsx-blocks"),(0,s.__)("Info opaque","bsx-blocks"),(0,s.__)("Info transparent","bsx-blocks"),(0,s.__)("Light","bsx-blocks"),(0,s.__)("Light opaque","bsx-blocks"),(0,s.__)("Light transparent","bsx-blocks"),(0,s.__)("Dark","bsx-blocks"),(0,s.__)("Dark opaque","bsx-blocks"),(0,s.__)("Dark transparent","bsx-blocks"),(0,s.__)("Transparent","bsx-blocks"),(0,s.__)("– unset –","bsx-blocks"),(0,s.__)("left","bsx-blocks"),(0,s.__)("Center","bsx-blocks"),(0,s.__)("Right","bsx-blocks"),[{icon:"editor-alignleft",title:(0,s.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,s.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,s.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,s.__)("– unset –","bsx-blocks"),align:""}]),h=(e,t)=>(0,i.jsx)(r.ToggleControl,{label:(0,s.__)("Open in new tab","bsx-blocks"),checked:"_blank"==e,onChange:t}),c=(e,t)=>(0,i.jsx)(a.URLInput,{label:(0,s.__)("Link URL","bsx-blocks"),value:e,onChange:t,__nextHasNoMarginBottom:!0}),b=(e,t)=>(0,i.jsx)(r.ToggleControl,{label:(0,s.__)("Disable responsive image downsizing","bsx-blocks"),checked:!!e,onChange:t,help:(0,s.__)("Enable if you don’t want smaller responsive image sizes, since small devices display image in large dimensions.","bsx-blocks")}),m=(e,t)=>(0,i.jsx)(r.TextControl,{label:(0,s.__)("Rel (optional)","bsx-blocks"),value:e,onChange:t}),u=(e,t)=>(0,i.jsx)(r.TextControl,{label:(0,s.__)("Portrait image max width breakpoint (numeric in px)","bsx-blocks"),value:e,onChange:t,help:(0,s.__)("Portrait image will be shown up to this width.","bsx-blocks")}),p=(e,t,a)=>{const l=g;return(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Margin left","bsx-blocks"),value:e,onChange:t,options:o(l,a)})},x=(e,t,a)=>{const l=g;return(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Margin right","bsx-blocks"),value:e,onChange:t,options:o(l,a)})},_=(e,t,a)=>{const l=g;return(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Margin before","bsx-blocks"),value:e,onChange:t,options:o(l,a),help:(0,s.__)("Spacer before element","bsx-blocks")})},f=(e,t,a)=>{const l=g;return(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Margin after","bsx-blocks"),value:e,onChange:t,options:o(l,a),help:(0,s.__)("Spacer after element","bsx-blocks")})},v=(e,t,a)=>{const l=[{value:"1",label:(0,s.__)("100%","bsx-blocks")},{value:"0.75",label:(0,s.__)("75%","bsx-blocks")},{value:"0.5",label:(0,s.__)("50%","bsx-blocks")},{value:"0.25",label:(0,s.__)("25%","bsx-blocks")}];return(0,i.jsx)(r.RadioControl,{label:(0,s.__)("Scale","bsx-blocks"),selected:e+"",options:o(l,a),onChange:t})};function k(e){const i=e.split("."),t=i[i.length-1];return i.pop(),{trunc:i.join("."),extension:t}}function w(e){const i=e.split(".");return i.pop(),i.join(".")}function I(e,i){const t=e.replace(w(i),"");return w(t)}function y(e){return new Promise(((i,t)=>{let s=document.createElement("img");s.onload=()=>{i({width:s.width,height:s.height}),s.remove},s.onerror=i=>{t('Error on loading image "'+e+'"',i)},s.src=e,document.body.appendChild(s)}))}async function z(e){const i=[768,1536,2048],t=["thumbnail","medium","large","full"],s=["thumbnail","medium",i[0]+"","large",i[1]+"",i[2]+"","full","original"];let a="",r=0,l=0;const n=function(e){const i=k(e).trunc;return i.lastIndexOf("-scaled")===i.length-7}(e.url),o=e.width<=1024&&e.width>=770;if(n){let i;a=function(e){const i=k(e);return i.trunc.substring(0,i.trunc.length-7)+"."+i.extension}(e.url);try{i=await y(a)}catch(e){console.error(e)}r=i.width,l=i.height}else a=e.sizes.full.url,r=e.sizes.full.width,l=e.sizes.full.height;const g=k(a),d=g.trunc,h=g.extension;let c=new Map;const b=[];if(null!=e.sizes.large||o){const t=function(e){const{originalWidth:i,originalHeight:t,url:s,scaleList:a}=e,r=i/t,l=i<=1024&&i>=770,n=k(s),o=n.extension,g=n.trunc,d=(l?{width:i,height:t,withoutSizeSlugTrunc:g}:function(e){const i=e.split("-"),t=i[i.length-1].split("x");return i.pop(),{width:t[0],height:t[1],withoutSizeSlugTrunc:i.join("-")}}(g)).withoutSizeSlugTrunc,h=[];return a.forEach(((e,s)=>{let a,l;if(r>=1||768===e?(a=e,l=Math.round(e/i*t)):(a=Math.round(e/t*i),l=e),a<=i){const e="-"+a+"x"+l,i=d+e+"."+o;h.push({url:i,sizeSlug:e,width:a,height:l})}})),h}({url:o?e.url:e.sizes.large.url,scaleList:i,originalWidth:r,originalHeight:l});await Promise.all(t.map((async(e,t)=>{var s;await(s=e.url,new Promise(((e,i)=>{const t=new XMLHttpRequest;t.open("HEAD",s,!0),t.onreadystatechange=()=>{4==t.readyState&&(200==t.status?e(!0):e(!1))},t.send(null)})))&&c.set(i[t]+"",e)})))}return s.forEach(((s,o)=>{-1!=t.indexOf(s)&&null!=e.sizes[s]?b.push({url:e.sizes[s].url,sizeSlug:I(e.sizes[s].url,a),width:e.sizes[s].width,height:e.sizes[s].height}):-1!=i.indexOf(parseFloat(s))&&null!=c.get(s)?b.push(c.get(s)):"original"==s&&n&&b.push({url:a,sizeSlug:I(a,a),width:r,height:l})})),b.sort(((e,i)=>e.width-i.width)),{imgs:b,originalWidth:r,originalHeight:l,truncWithoutSizeSlug:d,fileExt:h}}const S=e=>{if(void 0===e)return{};const i=[],t=Object.values(e)[Object.keys(e).length-1];Object.values(e).forEach((e=>{i.push({url:e.source_url,sizeSlug:I(e.source_url,t.source_url),width:e.width,height:e.height})}));const s=k(t.source_url);return t.width>t.height?i.sort(((e,i)=>e.width-i.width)):i.sort(((e,i)=>e.height-i.height)),{imgs:i,originalWidth:t.width,originalHeight:t.height,truncWithoutSizeSlug:s.trunc,fileExt:s.extension}},j=(e,i)=>"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'px" height="'+i+'px" viewBox="0 0 '+e+" "+i+'"><rect fill="none" width="'+e+'" height="'+i+'"/></svg>'),C=e=>{const i=[];return void 0!==e[0]&&void 0!==e[0].sizes&&void 0!==e[0].trunc&&void 0!==e[0].ext&&e[0].sizes.forEach(((t,s)=>{void 0!==t.s&&void 0!==t.w&&void 0!==t.h&&i.push({url:e[0].trunc+t.s+"."+e[0].ext,width:t.w,height:t.h})})),i},A=(e,i,t)=>{const s=[];return e.forEach(((e,i)=>{s.push({s:e.sizeSlug,w:e.width,h:e.height})})),[{sizes:s,trunc:i,ext:t}]},N=e=>{const{calcImgSizes:i,imgSizeIndex:t,disableResponsiveDownsizing:s}=e,a=[];return s?a.push(i[t].url+" "+i[t].width+"w"):i.forEach(((e,s)=>{0===s?0!=t&&i[i.length-1].width!=i[i.length-1].height||a.push(e.url+" "+e.width+"w"):s<=t&&a.push(e.url+" "+e.width+"w")})),a.join(", ")},B=(0,l.withSelect)(((e,i)=>{const{attributes:{imgId:t,imgSizes:s,imgData:a,portraitImgId:r,portraitImgSizes:l,portraitImgData:n}}=i;let o,g;const d=void 0!==s&&Array.isArray(s)&&s.length>0&&(void 0===a||0===a.length)&&!!t,h=void 0!==l&&Array.isArray(l)&&l.length>0&&(void 0===n||0===n.length)&&!!r,c=void 0!==a&&Array.isArray(a)&&a.length>0&&void 0!==a[0]&&void 0!==a[0].sizes&&void 0!==a[0].sizes[a[0].sizes.length-1].w&&parseInt(a[0].sizes[a[0].sizes.length-1].w)<=1024&&parseInt(a[0].sizes[a[0].sizes.length-1].w)>=780&&768!==parseInt(a[0].sizes[a[0].sizes.length-2].w);if(d||c){const i=e("core").getMedia(t),s=i?.media_details?.original_image;if(void 0!==i&&void 0!==s){const e={original:{file:s,width:null,height:null,filesize:i?.media_details?.filesize,mime_type:i?.mime_type,source_url:i?.guid?.raw}};o={...i?.media_details?.sizes,...e}}else o=i?.media_details?.sizes}else o=null;return g=h?e("core").getMedia(r)?.media_details?.sizes:null,{mediaSizes:o,portraitMediaSizes:g}}))((function({attributes:e,setAttributes:t,clientId:o,mediaSizes:g,portraitMediaSizes:k}){const{imgId:w,imgSizes:I,imgData:j,imgSizeIndex:B,origWidth:F,origHeight:D,portraitImgId:T,portraitImgSizes:W,portraitImgData:R,portraitImgSizeIndex:M,portraitImgMaxWidthBreakpoint:P,alt:H,figcaption:E,rounded:L,imgThumbnail:q,borderState:U,zoomable:O,externalGalleryParent:G,zoomImgSizeIndex:Z,disableResponsiveDownsizing:X,textAlign:V,marginBefore:J,marginAfter:Y,marginLeft:K,marginRight:Q,aAdditionalClassName:$,pictureAdditionalClassName:ee,imgAdditionalClassName:ie,href:te,target:se,rel:ae,scale:re,displayedWidth:le,displayedHeight:ne,noFigureTag:oe,imgHtml:ge}=e,de=void 0!==I&&Array.isArray(I)&&I.length>0,he=void 0!==W&&Array.isArray(W)&&W.length>0,ce=de?I:C(j),be=he?W:C(R),{updateBlockAttributes:me}=((0,l.useRegistry)(),(0,l.useDispatch)(a.store)),ue=n({textAlign:V,marginBefore:J,marginAfter:Y,marginLeft:K,marginRight:Q}),pe=(0,a.useBlockProps)({className:ue});async function xe(e){if(void 0!==e.url){const i=await z(e),s=i.originalWidth,a=i.originalHeight,r=A(i.imgs,i.truncWithoutSizeSlug,i.fileExt);let l=parseInt(B);parseInt(B)>=i.imgs.length&&(l=i.imgs.length-1),e.sizes.thumbnail.width,e.sizes.thumbnail.height;let n=Z;(O&&!Z||parseInt(Z)<parseInt(l)||parseInt(Z)>=parseInt(i.imgs.length))&&(n=(i.imgs.length-1).toString());const o=i.imgs[l].width,g=i.imgs[l].height;t({imgId:e.id,imgData:r,imgSizeIndex:l.toString(),origWidth:s,origHeight:a,alt:e.alt,zoomImgSizeIndex:n,...I&&I.length>0&&{imgSizes:"",url:"",width:"",height:""},...!le&&!ne&&!re&&{scale:1},...re&&!le&&!ne&&{displayedWidth:o*re,displayedHeight:g*re},...le&&{scale:le/o,displayedHeight:g*le/o},...ne&&{scale:ne/g,displayedWidth:o*ne/g}})}}async function _e(e){if(void 0!==e.url){const i=await z(e),s=A(i.imgs,i.truncWithoutSizeSlug,i.fileExt);let a=parseInt(M);parseInt(M)>=i.imgs.length&&(a=i.imgs.length-1),W&&W.length>0?t({portraitImgId:e.id,portraitImgSizes:"",portraitImgData:s,portraitImgSizeIndex:a.toString()}):t({portraitImgId:e.id,portraitImgData:s,portraitImgSizeIndex:a.toString()})}}(void 0!==g&&null!=g||void 0!==k&&null!=k)&&async function(e,i,t,s,r,n){const{imgId:o,imgSizes:g,imgData:d,imgSizeIndex:h,origWidth:c,origHeight:b,portraitImgId:m,portraitImgSizes:u,portraitImgData:p,portraitImgSizeIndex:x,portraitImgMaxWidthBreakpoint:_,alt:f,figcaption:v,rounded:k,imgThumbnail:w,borderState:I,zoomable:z,externalGalleryParent:j,zoomImgSizeIndex:C,disableResponsiveDownsizing:N,textAlign:B,marginBefore:F,marginAfter:D,marginLeft:T,marginRight:W,aAdditionalClassName:R,pictureAdditionalClassName:M,imgAdditionalClassName:P,href:H,target:E,rel:L,scale:q,displayedWidth:U,displayedHeight:O,noFigureTag:G,imgHtml:Z}=e,X=(0,l.useRegistry)(),{updateBlockAttributes:V}=(0,l.useDispatch)(a.store);let J={};if(t){if(t?.original){const e=t?.original.source_url;let i;try{i=await y(e)}catch(e){console.error(e)}t.original.width=i.width,t.original.height=i.height}const e=S(t),i=e.originalWidth,s=e.originalHeight,a=e.imgs,l=A(e.imgs,e.truncWithoutSizeSlug,e.fileExt),n=i<=1024&&i>=770;let o=void 0!==h?h:r.length-1,g=C;n&&(parseInt(h)>=2&&(o=(parseInt(h)+(a.length-r.length)).toString()),parseInt(g)>=2&&(g=(parseInt(C)+(a.length-r.length)).toString())),J={imgSizes:"",imgData:l,imgSizeIndex:o,url:"",width:"",height:"",origWidth:i,origHeight:s,zoomImgSizeIndex:g}}if(s){const e=S(s),i=e.imgs,t=A(e.imgs,e.truncWithoutSizeSlug,e.fileExt);let a=void 0!==x?x:n.length-1;parseInt(x)>=2&&(a=(parseInt(x)+(i.length-n.length)).toString()),J={portraitImgSizes:"",portraitImgData:t,portraitImgSizeIndex:a.toString(),...J}}(t||s)&&X.batch((()=>{V(i,J)}))}(e,o,g,k,ce,be);const fe=[];void 0!==ce&&ce.forEach(((e,i)=>{fe.push({value:i.toString(),label:e.width+"x"+e.height+(ce[ce.length-1].width!==ce[ce.length-1].height&&e.width===e.height?" "+(0,s.__)("(Square format)","bsx-blocks"):"")})}));const ve=[];void 0!==be&&be.forEach(((e,i)=>{ve.push({value:i.toString(),label:e.width+"x"+e.height+(be[be.length-1].width!==be[be.length-1].height&&e.width===e.height?" "+(0,s.__)("(Square format)","bsx-blocks"):"")})}));const ke=[];void 0!==ce&&ce.forEach(((e,i)=>{i>=B&&ke.push({value:i.toString(),label:e.width+"x"+e.height+(ce[ce.length-1].width!==ce[ce.length-1].height&&e.width===e.height?" "+(0,s.__)("(Square format)","bsx-blocks"):"")})}));const we=n({rounded:L,imgThumbnail:q,borderState:U},"img-fluid"+(ie?" "+ie:"")),Ie=w&&void 0!==ce&&ce.length>0&&void 0!==ce[B]&&B<ce.length,ye=N({calcImgSizes:ce,imgSizeIndex:B}),ze=Ie?ce[B].url:"",Se=Ie&&le?le:Ie?ce[B].width:"",je=Ie&&ne?ne:Ie?ce[B].height:"",Ce=Se&&je?"(max-width: "+Se+"px) 100vw, "+Se+"px":"",Ae=Ie?(0,i.jsx)("img",{className:we,src:ze,srcset:ye,sizes:Ce,alt:H,width:Se,height:je,loading:"lazy"}):(0,i.jsx)(i.Fragment,{}),Ne=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.BlockControls,{children:(Be=V,Fe=e=>{t({textAlign:e})},(0,i.jsx)(a.AlignmentToolbar,{label:(0,s.__)("Alignment","bsx-blocks"),value:Be,onChange:Fe,alignmentControls:d}))}),(0,i.jsxs)(a.InspectorControls,{children:[(0,i.jsxs)(r.PanelBody,{title:(0,s.__)("Image","bsx-blocks"),children:[(0,i.jsx)(r.TextControl,{label:(0,s.__)("Alt","bsx-blocks"),value:H,onChange:e=>{t({alt:e})}}),w?(0,i.jsx)(a.MediaUpload,{onSelect:xe,allowedTypes:"image",value:w,render:({open:e})=>(0,i.jsx)(r.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,i.jsx)("img",{class:"bsxui-config-panel-img",src:ce[B].url,alt:(0,s.__)("Change / upload image","bsx-blocks")})})}):(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.__)("– No image selected yet –","bsx-blocks")})}),(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)(a.MediaUpload,{onSelect:xe,allowedTypes:"image",value:w,render:({open:e})=>(0,i.jsx)(r.Button,{onClick:e,isSecondary:!0,children:(0,s.__)("Change / upload image","bsx-blocks")})})}),(0,i.jsx)(r.RadioControl,{label:(0,s.__)("Image size and format","bsx-blocks"),selected:B.toString(),options:fe,onChange:e=>{t({imgSizeIndex:e.toString(),displayedWidth:parseInt(ce[e].width),displayedHeight:parseInt(ce[e].height),scale:parseFloat(ce[e].width/ce[e].height)})}}),null!=ce[B]&&null!=ce[B].url&&(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-config-panel-text",children:(0,i.jsx)("a",{class:"bsxui-link",href:ce[B].url,target:"_blank",children:(0,s.__)("Preview selected image","bsx-blocks")})})}),w&&void 0!==ce&&void 0!==ce[B]&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.TextControl,{label:(0,s.__)("Displayed width","bsx-blocks"),value:le||ce[B].width,onChange:e=>{t({displayedWidth:e!=ce[B].width?parseFloat(e):"",displayedHeight:e!=ce[B].height?Math.round(e/ce[B].width*ce[B].height):"",scale:parseFloat(e/ce[B].width)})}}),(0,i.jsx)(r.TextControl,{label:(0,s.__)("Displayed height","bsx-blocks"),value:ne||ce[B].height,onChange:e=>{t({displayedHeight:e!=ce[B].width?parseFloat(e):ce[B].width,displayedWidth:e!=ce[B].height?Math.round(e/ce[B].height*ce[B].width):"",scale:parseFloat(e/ce[B].height)})}}),v(re,(e=>{t({scale:parseFloat(e),displayedWidth:e&&e!=ce[B].width?Math.round(ce[B].width*parseFloat(e)):"",displayedHeight:e&&e!=ce[B].height?Math.round(ce[B].height*parseFloat(e)):""})}))]}),(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Rounded","bsx-blocks"),value:L,onChange:e=>{t({rounded:e})},options:[{value:"",label:(0,s.__)("– unset –","bsx-blocks")},{value:"rounded",label:(0,s.__)("Rounded corners","bsx-blocks")},{value:"circle",label:(0,s.__)("Circle","bsx-blocks")}]}),(0,i.jsx)(r.ToggleControl,{label:(0,s.__)("Border","bsx-blocks"),checked:!!q,onChange:e=>{t({imgThumbnail:e})}}),(0,i.jsx)(r.SelectControl,{label:(0,s.__)("Border color","bsx-blocks"),value:U,onChange:e=>{t({borderState:e})},options:[{value:"",label:(0,s.__)("– unset –","bsx-blocks")},{value:"white",label:(0,s.__)("White","bsx-blocks")},{value:"primary",label:(0,s.__)("Primary","bsx-blocks")},{value:"secondary",label:(0,s.__)("Secondary","bsx-blocks")},{value:"success",label:(0,s.__)("Success","bsx-blocks")},{value:"danger",label:(0,s.__)("Danger","bsx-blocks")},{value:"warning",label:(0,s.__)("Warning","bsx-blocks")},{value:"info",label:(0,s.__)("Info","bsx-blocks")},{value:"light",label:(0,s.__)("Light","bsx-blocks")},{value:"dark",label:(0,s.__)("Dark","bsx-blocks")}]})]}),(0,i.jsx)(r.PanelBody,{title:(0,s.__)("Portrait image (optional)","bsx-blocks"),children:O?(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-alert",children:(0,s.__)("Portrait image is deactivated since Zoomable image is set.","bsx-blocks")})}):(0,i.jsxs)(i.Fragment,{children:[T&&void 0!==be[M]&&void 0!==be[M].url?(0,i.jsx)(a.MediaUpload,{onSelect:_e,allowedTypes:"image",value:T,render:({open:e})=>(0,i.jsx)(r.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,i.jsx)("img",{class:"bsxui-config-panel-img",src:be[M].url,alt:(0,s.__)("Change / upload portrait image","bsx-blocks")})})}):(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.__)("– No portrait image selected yet –","bsx-blocks")})}),(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)(a.MediaUpload,{onSelect:_e,allowedTypes:"image",value:T,render:({open:e})=>(0,i.jsx)(r.Button,{onClick:e,isSecondary:!0,children:(0,s.__)("Change / upload portrait image","bsx-blocks")})})}),T&&void 0!==be[M]&&void 0!==be[M].url&&(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)(r.Button,{onClick:()=>{W&&W.length>0?t({portraitImgId:"",portraitImgSizes:"",portraitImgData:""}):t({portraitImgId:"",portraitImgData:""})},isDestructive:!0,children:(0,s.__)("Remove portrait image","bsx-blocks")})}),(0,i.jsx)(r.RadioControl,{label:(0,s.__)("Image size and format","bsx-blocks"),selected:M.toString(),options:ve,onChange:e=>{t({portraitImgSizeIndex:e.toString()})}}),void 0!==be&&void 0!==be[M]&&void 0!==be[M].url&&(0,i.jsx)("div",{class:"bsxui-config-panel-text",children:(0,i.jsx)("a",{class:"bsxui-link",href:be[M].url,target:"_blank",children:(0,s.__)("Preview selected portrait image","bsx-blocks")})})]})}),(0,i.jsx)(r.PanelBody,{title:(0,s.__)("Zoomable (optional)","bsx-blocks"),children:be.length>0||te?(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-alert",children:te?(0,s.__)("Zoomable image is deactivated since href is set.","bsx-blocks"):(0,s.__)("Zoomable image is deactivated since Portrait image is set.","bsx-blocks")})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ToggleControl,{className:be.length>0||oe?"bsxui-disabled":"",label:(0,s.__)("Zoomable image","bsx-blocks"),checked:!!O,onChange:e=>{t(null==Z?{zoomable:e,zoomImgSizeIndex:(ce.length-1).toString()}:{zoomable:e})},help:(0,s.__)("If enabled click on image will open shadowbox gallery with large image.","bsx-blocks")}),O?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.RadioControl,{label:(0,s.__)("Zoom image size","bsx-blocks"),selected:Z,options:ke,onChange:e=>{t({zoomImgSizeIndex:e.toString()})}}),B==Z&&(0,i.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.__)("Currently your zoom image is not larger than your original image.","bsx-blocks")}),(0,i.jsx)(r.ToggleControl,{label:(0,s.__)("External gallery parent","bsx-blocks"),checked:!!G,onChange:e=>{t({externalGalleryParent:e})},help:(0,s.__)("Enabled if using custom external shadowbox gallery element (e.g. configured BSX Wrapper) wrapping this image.","bsx-blocks")})]}):(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-alert",children:(0,s.__)("Zoomable image is deactivated since No figure Tag is set.","bsx-blocks")})})]})}),(0,i.jsx)(r.PanelBody,{title:(0,s.__)("Link (optional)","bsx-blocks"),children:O?(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-alert",children:(0,s.__)("Link is deactivated since <i>Zoomable image</i> is set.","bsx-blocks")})}):(0,i.jsxs)(i.Fragment,{children:[c(te,(e=>{t(""==te?{href:e,aAdditionalClassName:""}:{href:e})})),h(se,(e=>{t({target:e?"_blank":""})})),m(ae,(e=>{t({rel:e})}))]})}),(0,i.jsxs)(r.PanelBody,{title:(0,s.__)("Margin","bsx-blocks"),children:[p(K,(e=>{t({marginLeft:e})})),x(Q,(e=>{t({marginRight:e})})),_(J,(e=>{t({marginBefore:e})})),f(Y,(e=>{t({marginAfter:e})}))]})]}),(0,i.jsxs)(a.InspectorAdvancedControls,{children:[b(X,(e=>{t({disableResponsiveDownsizing:e})})),u(P,(e=>{t({portraitImgMaxWidthBreakpoint:e.toString()})})),(0,i.jsx)(r.ToggleControl,{className:O?"bsxui-disabled":"",label:(0,s.__)("No figure tag","bsx-blocks"),checked:!!oe,onChange:e=>{t({noFigureTag:e,zoomable:!1,figcaption:[]})}}),!!O&&(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsx)("div",{class:"bsxui-alert",children:(0,s.__)("Figure tag must exist since Zoomable image is set.","bsx-blocks")})}),!!te&&(0,i.jsx)(r.TextControl,{label:(0,s.__)("A element additional class(es)","bsx-blocks"),value:$,onChange:e=>{t({aAdditionalClassName:e})}}),oe?(0,i.jsx)("div",{class:"bsxui-config-panel-row",children:(0,i.jsxs)("div",{class:"bsxui-alert",children:[(0,s.__)("Picture element additional class(es) is deactivated since No figure tag is set. Use Additional class(es) instead.","bsx-blocks"),"."]})}):(0,i.jsx)(r.TextControl,{label:(0,s.__)("Picture element additional class(es) – DEPRECATED","bsx-blocks"),value:ee,onChange:e=>{t({pictureAdditionalClassName:e})}}),(0,i.jsx)(r.TextControl,{label:(0,s.__)("Image element additional class(es)","bsx-blocks"),value:ie,onChange:e=>{t({imgAdditionalClassName:e})}})]})]});var Be,Fe;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("figure",{...pe,children:[w?(0,i.jsx)(i.Fragment,{children:O?(0,i.jsx)("a",{className:"zoomable-img",children:Ae}):(0,i.jsx)(i.Fragment,{children:Ae})}):(0,i.jsx)("div",{className:"bsxui-img-upload-placeholder",children:(0,i.jsx)(a.MediaUpload,{onSelect:xe,allowedTypes:"image",value:w,render:({open:e})=>(0,i.jsx)(r.Button,{onClick:e,isSecondary:!0,children:(0,s.__)("Select / upload Image","bsx-blocks")})})}),(0,i.jsx)(a.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,s.__)("Caption (optional)","bsx-blocks"),value:E,onChange:e=>{t({figcaption:e})},keepPlaceholderOnFocus:!0})]}),Ne]})}));function F(e){const i={};for(let[t,s]of Object.entries(e))s&&(i[t]=s);return i}const D=JSON.parse('{"UU":"bsx-blocks/lazy-img"}'),T=e=>{const{calcImgSizes:i,imgSizeIndex:t}=e,s=[];return i.forEach(((e,a)=>{0===a&&0!=t&&i[i.length-1].width!=i[i.length-1].height||s.push(e.url+" "+e.width+"w")})),s.join(", ")},W=(e,i)=>"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'px" height="'+i+'px" viewBox="0 0 '+e+" "+i+'"><rect fill="none" width="'+e+'" height="'+i+'"/></svg>'),R=e=>{const i=[];return void 0!==e[0]&&void 0!==e[0].sizes&&void 0!==e[0].trunc&&void 0!==e[0].ext&&e[0].sizes.forEach(((t,s)=>{void 0!==t.s&&void 0!==t.w&&void 0!==t.h&&i.push({url:e[0].trunc+t.s+"."+e[0].ext,width:t.w,height:t.h})})),i},M=[{supports:{html:!1,className:!1},attributes:{hasFigure:{boolean:"string",default:!0},imgSizes:{type:"array",default:[]},imgData:{type:"array",default:[]},imgSizeIndex:{type:"string",default:"3"},imgId:{type:"number"},url:{type:"string"},width:{type:"number"},height:{type:"number"},origWidth:{type:"number"},origHeight:{type:"number"},portraitImgId:{type:"number"},portraitImgSizes:{type:"array",default:[]},portraitImgData:{type:"array",default:[]},portraitImgSizeIndex:{type:"string",default:"3"},portraitImgMaxWidthBreakpoint:{type:"string"},alt:{type:"string"},figcaption:{type:"string",source:"html",selector:"figcaption"},rounded:{type:"string"},imgThumbnail:{type:"boolean"},borderState:{type:"string"},zoomable:{type:"boolean"},externalGalleryParent:{type:"boolean"},zoomImgSizeIndex:{type:"string"},disableResponsiveDownsizing:{type:"boolean"},textAlign:{type:"string"},marginBefore:{type:"string"},marginAfter:{type:"string"},marginLeft:{type:"string"},marginRight:{type:"string"},aAdditionalClassName:{type:"string"},pictureAdditionalClassName:{type:"string"},imgAdditionalClassName:{type:"string"},href:{type:"string"},target:{type:"string"},rel:{type:"string"},scale:{type:"number"},displayedWidth:{type:"text"},displayedHeight:{type:"text"},noFigureTag:{type:"boolean"}},save:({attributes:e})=>{const{className:t,imgSizeIndex:s,imgSizes:r,imgData:l,url:o,origWidth:g,origHeight:d,portraitImgId:h,portraitImgSizes:c,portraitImgData:b,portraitImgSizeIndex:m,portraitImgMaxWidthBreakpoint:u,alt:p,figcaption:x,rounded:_,imgThumbnail:f,borderState:v,zoomable:k,externalGalleryParent:w,zoomImgSizeIndex:I,disableResponsiveDownsizing:y,textAlign:z,marginBefore:S,marginAfter:A,marginLeft:N,marginRight:B,aAdditionalClassName:D,pictureAdditionalClassName:W,imgAdditionalClassName:R,href:M,target:P,rel:H,scale:E,displayedWidth:L,displayedHeight:q,noFigureTag:U}=e,O=void 0!==r&&Array.isArray(r)&&r.length>0,G=void 0!==c&&Array.isArray(c)&&c.length>0,Z=O?r:C(l),X=G?c:C(b),V=n({textAlign:z,marginBefore:S,marginAfter:A,marginLeft:N,marginRight:B},t),J=k?"zoomable-img":M&&D?D:"",Y=n({rounded:_,imgThumbnail:f,borderState:v},"img-fluid"+(R?" "+R:"")),K=k&&!w?F({"data-fn":"photoswipe"}):{},Q=k&&void 0!==Z[I]?F({href:Z[I].url,"data-size":Z[I].width+"x"+Z[I].height}):M?{href:M,target:P,rel:M?H?H+" noopener noreferrer":"noopener noreferrer":""}:{},$=void 0!==Z&&Z.length>0&&void 0!==Z[s]&&s<Z.length,ee=void 0!==X&&void 0!==X[m]&&!!m,ie=T({calcImgSizes:Z,imgSizeIndex:s}),te=$?Z[s].url:"",se=$&&L?L:$?Z[s].width:"",ae=$&&q?q:$?Z[s].height:"",re=se&&ae?"(max-width: "+se+"px) 100vw, "+se+"px":"",le=ee?Y+" d-portrait-none":Y,ne=$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("script",{children:["document.write( '",(0,i.jsx)("img",{className:le,src:j(se,ae),"data-src":te,"data-srcset":ie,sizes:re,alt:p,width:se,height:ae,"data-fn":"lazyload"}),"' );"]}),(0,i.jsx)("noscript",{children:(0,i.jsx)("img",{className:le,src:te,srcset:ie,sizes:re,alt:p,width:se,height:ae,loading:"lazy"})})]}):(0,i.jsx)(i.Fragment,{});let oe=(0,i.jsx)(i.Fragment,{});if(ee){const e=T({calcImgSizes:X,imgSizeIndex:m}),t=X[m].url,s=X[m].width,a=X[m].height,r="(max-width: "+s+"px) 100vw, "+s+"px",l=Y+" d-landscape-none";oe=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("script",{children:["document.write( '",(0,i.jsx)("img",{className:l,src:j(s,a),"data-src":t,"data-srcset":e,sizes:r,alt:p,width:s,height:a,"data-fn":"lazyload"}),"' );"]}),(0,i.jsx)("noscript",{children:(0,i.jsx)("img",{className:l,src:t,srcset:e,sizes:r,alt:p,width:s,height:a,loading:"lazy"})})]})}const ge=(0,i.jsx)(i.Fragment,{children:k||M?(0,i.jsxs)("a",{className:J,...Q,...a.useBlockProps.save({className:J,...K}),children:[ne,oe]}):(0,i.jsxs)(i.Fragment,{children:[ne,oe]})});return(0,i.jsx)(i.Fragment,{children:U?(0,i.jsx)(i.Fragment,{children:void 0!==Z&&void 0!==Z[s]&&void 0!==Z[s].url&&Z[s].url&&(0,i.jsx)(i.Fragment,{children:ge})}):(0,i.jsx)("figure",{...a.useBlockProps.save({className:V,...K}),children:void 0!==Z&&void 0!==Z[s]&&void 0!==Z[s].url&&Z[s].url&&(0,i.jsxs)(i.Fragment,{children:[ge,x&&!a.RichText.isEmpty(x)&&(0,i.jsx)(a.RichText.Content,{tagName:"figcaption",className:"font-italic",value:x})]})})})}},{attributes:{hasFigure:{boolean:"string",default:!0},imgSizes:{type:"array",default:[]},imgData:{type:"array",default:[]},imgSizeIndex:{type:"string",default:"3"},imgId:{type:"number"},url:{type:"string"},width:{type:"number"},height:{type:"number"},origWidth:{type:"number"},origHeight:{type:"number"},portraitImgId:{type:"number"},portraitImgSizes:{type:"array",default:[]},portraitImgData:{type:"array",default:[]},portraitImgSizeIndex:{type:"string",default:"3"},portraitImgMaxWidthBreakpoint:{type:"string"},alt:{type:"string"},figcaption:{type:"string",source:"html",selector:"figcaption"},rounded:{type:"string"},imgThumbnail:{type:"boolean"},borderState:{type:"string"},zoomable:{type:"boolean"},externalGalleryParent:{type:"boolean"},zoomImgSizeIndex:{type:"string"},disableResponsiveDownsizing:{type:"boolean"},textAlign:{type:"string"},marginAfter:{type:"string"},aAdditionalClassName:{type:"string"},pictureAdditionalClassName:{type:"string"},imgAdditionalClassName:{type:"string"},href:{type:"string"},target:{type:"string"},rel:{type:"string"},scale:{type:"number"},displayedWidth:{type:"text"},displayedHeight:{type:"text"},noFigureTag:{type:"boolean"}},save:e=>{const{attributes:{className:t,imgSizeIndex:s,imgSizes:r,imgData:l,imgId:o,url:g,width:d,height:h,origWidth:c,origHeight:b,portraitImgId:m,portraitImgSizes:u,portraitImgData:p,portraitImgSizeIndex:x,portraitImgMaxWidthBreakpoint:_,alt:f,figcaption:v,rounded:k,imgThumbnail:w,borderState:I,zoomable:y,externalGalleryParent:z,zoomImgSizeIndex:S,disableResponsiveDownsizing:j,textAlign:C,marginAfter:A,aAdditionalClassName:N,pictureAdditionalClassName:B,imgAdditionalClassName:D,href:T,target:M,rel:P,scale:H,displayedWidth:E,displayedHeight:L,noFigureTag:q}}=e,U=void 0!==r&&Array.isArray(r)&&r.length>0,O=void 0!==u&&Array.isArray(u)&&u.length>0,G=U?r:R(l),Z=(e=>{const{calcImgSizes:i,imgSizeIndex:t,calcPortraitImgSizes:s,portraitImgSizeIndex:a,portraitImgMaxWidthBreakpoint:r,disableResponsiveDownsizing:l}=e,n=[{breakpoint:460,imgSizeIndexShift:"-1",minImgSizeIndex:"1"},{breakpoint:576,imgSizeIndexShift:"0",minImgSizeIndex:"2"}],o=[];return l?a&&void 0!==s&&void 0!==s[a]&&void 0!==s[a].url&&o.push({media:"(orientation: portrait) and (max-width: "+(parseInt(r||n[n.length-1].breakpoint)-.02)+"px)",srcset:W(s[a].width,s[a].height),"data-srcset":s[a].url,"data-width":s[a].width,"data-height":s[a].height}):n.forEach(((e,i)=>{const t=parseInt(a)+parseInt(e.imgSizeIndexShift),l=t<parseInt(e.minImgSizeIndex)?parseInt(e.minImgSizeIndex):t;l<=parseInt(a)&&l>0&&void 0!==s&&void 0!==s[l]&&void 0!==s[l].url&&o.push({media:"(orientation: portrait) and (max-width: "+(parseInt(i==n.length-1&&r?r:e.breakpoint)-.02)+"px)",srcset:W(s[l].width,s[l].height),"data-srcset":s[l].url,"data-width":s[l].width,"data-height":s[l].height})})),[{breakpoint:460,imgSizeIndexShift:"-2",minImgSizeIndex:"1"},{breakpoint:768,imgSizeIndexShift:"-1",minImgSizeIndex:"2"}].forEach(((e,s)=>{const a=parseInt(t)+parseInt(e.imgSizeIndexShift),r=a<parseInt(e.minImgSizeIndex)?parseInt(e.minImgSizeIndex):a;!l&&r<parseInt(t)&&r>0&&void 0!==i&&void 0!==i[r]&&void 0!==i[r].url&&o.push({media:"(max-width: "+(parseInt(e.breakpoint)-.02)+"px)",srcset:W(i[r].width,i[r].height),"data-srcset":i[r].url,"data-width":i[r].width,"data-height":i[r].height})})),o})({calcImgSizes:G,imgSizeIndex:s,calcPortraitImgSizes:O?u:R(p),portraitImgSizeIndex:x,portraitImgMaxWidthBreakpoint:_,disableResponsiveDownsizing:j}),X=n({textAlign:C,marginAfter:A},t),V=y?"zoomable-img":T&&N?N:"",J=n({rounded:k,imgThumbnail:w,borderState:I},"img-fluid"+(D?" "+D:"")),Y=y&&!z?F({"data-fn":"photoswipe"}):{},K=y&&void 0!==G[S]?F({href:G[S].url,"data-size":G[S].width+"x"+G[S].height}):T?{href:T,target:M,rel:T?P?P+" noopener noreferrer":"noopener noreferrer":""}:{},Q=void 0!==G&&void 0!==G[s]?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("script",{children:["document.write( '",(0,i.jsxs)("picture",{className:q?X:B,children:[Z.map(((e,t)=>(0,i.jsx)("source",{...e}))),(0,i.jsx)("img",{className:J,src:W(G[s].width,G[s].height),alt:f,"data-src":G[s].url,width:E||G[s].width,height:L||G[s].height,"data-fn":"lazyload"})]}),"' );"]}),(0,i.jsx)("noscript",{children:(0,i.jsx)("img",{className:J,src:G[s].url,alt:f,width:E||G[s].width,height:L||G[s].height})})]}):(0,i.jsx)(i.Fragment,{}),$=(0,i.jsx)(i.Fragment,{children:y||T?(0,i.jsx)("a",{className:V,...K,children:Q}):(0,i.jsx)(i.Fragment,{children:Q})});return(0,i.jsx)(i.Fragment,{children:q?(0,i.jsx)(i.Fragment,{children:void 0!==G&&void 0!==G[s]&&void 0!==G[s].url&&G[s].url&&(0,i.jsx)(i.Fragment,{children:$})}):(0,i.jsx)("figure",{className:X,...Y,children:void 0!==G&&void 0!==G[s]&&void 0!==G[s].url&&G[s].url&&(0,i.jsxs)(i.Fragment,{children:[$,v&&!a.RichText.isEmpty(v)&&(0,i.jsx)(a.RichText.Content,{tagName:"figcaption",className:"font-italic",value:v})]})})})}}];(0,e.registerBlockType)(D.UU,{icon:t,edit:B,save:function({attributes:e}){const{className:t,imgSizeIndex:s,imgSizes:r,imgData:l,url:o,origWidth:g,origHeight:d,portraitImgId:h,portraitImgSizes:c,portraitImgData:b,portraitImgSizeIndex:m,portraitImgMaxWidthBreakpoint:u,alt:p,figcaption:x,rounded:_,imgThumbnail:f,borderState:v,zoomable:k,externalGalleryParent:w,zoomImgSizeIndex:I,disableResponsiveDownsizing:y,textAlign:z,marginBefore:S,marginAfter:A,marginLeft:B,marginRight:D,aAdditionalClassName:T,pictureAdditionalClassName:W,imgAdditionalClassName:R,href:M,target:P,rel:H,scale:E,displayedWidth:L,displayedHeight:q,noFigureTag:U}=e,O=void 0!==r&&Array.isArray(r)&&r.length>0,G=void 0!==c&&Array.isArray(c)&&c.length>0,Z=O?r:C(l),X=G?c:C(b),V=n({textAlign:z,marginBefore:S,marginAfter:A,marginLeft:B,marginRight:D},t),J=k?"zoomable-img":M&&T?T:"",Y=n({rounded:_,imgThumbnail:f,borderState:v},"img-fluid"+(R?" "+R:"")),K=k&&!w?F({"data-fn":"photoswipe"}):{},Q=k&&void 0!==Z[I]?F({href:Z[I].url,"data-size":Z[I].width+"x"+Z[I].height}):M?{href:M,target:P,rel:M?H?H+" noopener noreferrer":"noopener noreferrer":""}:{},$=void 0!==Z&&Z.length>0&&void 0!==Z[s]&&s<Z.length,ee=void 0!==X&&void 0!==X[m]&&!!m,ie=N({calcImgSizes:Z,imgSizeIndex:s,disableResponsiveDownsizing:y}),te=$?Z[s].url:"",se=$&&L?L:$?Z[s].width:"",ae=$&&q?q:$?Z[s].height:"",re=se&&ae?"(max-width: "+se+"px) 100vw, "+se+"px":"",le=ee?Y+" d-portrait-none":Y,ne=$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("script",{children:["document.write( '",(0,i.jsx)("img",{className:le,src:j(se,ae),"data-src":te,"data-srcset":ie,sizes:re,alt:p,width:se,height:ae,"data-fn":"lazyload"}),"' );"]}),(0,i.jsx)("noscript",{children:(0,i.jsx)("img",{className:le,src:te,srcset:ie,sizes:re,alt:p,width:se,height:ae,loading:"lazy"})})]}):(0,i.jsx)(i.Fragment,{});let oe=(0,i.jsx)(i.Fragment,{});if(ee){const e=N({calcImgSizes:X,imgSizeIndex:m}),t=X[m].url,s=X[m].width,a=X[m].height,r="(max-width: "+s+"px) 100vw, "+s+"px",l=Y+" d-landscape-none";oe=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("script",{children:["document.write( '",(0,i.jsx)("img",{className:l,src:j(s,a),"data-src":t,"data-srcset":e,sizes:r,alt:p,width:s,height:a,"data-fn":"lazyload"}),"' );"]}),(0,i.jsx)("noscript",{children:(0,i.jsx)("img",{className:l,src:t,srcset:e,sizes:r,alt:p,width:s,height:a,loading:"lazy"})})]})}const ge=(0,i.jsx)(i.Fragment,{children:k||M?(0,i.jsxs)("a",{className:J,...Q,...a.useBlockProps.save({className:J,...K}),children:[ne,oe]}):(0,i.jsxs)(i.Fragment,{children:[ne,oe]})});return(0,i.jsx)(i.Fragment,{children:U?(0,i.jsx)(i.Fragment,{children:void 0!==Z&&void 0!==Z[s]&&void 0!==Z[s].url&&Z[s].url&&(0,i.jsx)(i.Fragment,{children:ge})}):(0,i.jsx)("figure",{...a.useBlockProps.save({className:V,...K}),children:void 0!==Z&&void 0!==Z[s]&&void 0!==Z[s].url&&Z[s].url&&(0,i.jsxs)(i.Fragment,{children:[ge,x&&!a.RichText.isEmpty(x)&&(0,i.jsx)(a.RichText.Content,{tagName:"figcaption",className:"font-italic",value:x})]})})})},deprecated:M})})();