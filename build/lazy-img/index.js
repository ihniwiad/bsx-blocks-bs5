(()=>{"use strict";const e=window.wp.blocks,s=window.ReactJSXRuntime,l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{d:"M18.71,1.29C18.52,1.11,18.26,1,18,1H2C1.74,1,1.48,1.11,1.29,1.29C1.11,1.48,1,1.74,1,2v16c0,0.26,0.11,0.52,0.29,0.71 C1.48,18.89,1.74,19,2,19h16c0.26,0,0.52-0.11,0.71-0.29C18.89,18.52,19,18.26,19,18V2C19,1.74,18.89,1.48,18.71,1.29z M3,17V3h14 l0,14H3z M9,12l-2-1l-3,2v2.98h12V11l-3-2L9,12z M7.5,9C8.88,9,10,7.88,10,6.5S8.88,4,7.5,4S5,5.12,5,6.5S6.12,9,7.5,9z"})}),i=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.components;function o(e,s){const{belowNavbar:l,touchFooter:i,display:t,marginBefore:a,marginAfter:o,marginLeft:n,marginRight:r,resMargin1Breakpoint:b,resMargin1Position:h,resMargin1Size:c,resMargin2Breakpoint:g,resMargin2Position:d,resMargin2Size:u,paddingBefore:x,paddingAfter:_,paddingLeft:p,paddingRight:m,bgColor:k,textColor:f,textBgColor:w,textSize:v,rounded:j,textAlign:y,resTextAlignBreakpoint:C,resTextAlign:S,textShadow:I,fontWeight:z,inverseTextColor:A,headingInheritTextColor:B,headingInheritFontWeight:R,width:T,height:L,imgThumbnail:D,borderState:F,border:M,hoverShadow:W,hoverMove:N,disabled:P,verticalAlign:$,speechBubble:U,isAlert:H,state:q,objectFit:E,overflow:Z,multilayer:X,zIndex:G,isBannerInner:O,isTop0:V,isBottom0:J,isLeft0:Y,isRight0:K,position:Q}=e,ee=void 0!==s&&s.trim().length>0?s.split(" "):[];return l&&ee.push("below-navbar-content"),i&&ee.push("mb-n-footer-space"),t&&ee.push("d-"+t),a&&a===o&&a===n&&a===r?ee.push("m-"+a):(a&&a===o?ee.push("my-"+a):(a&&ee.push("mt-"+a),o&&ee.push("mb-"+o)),n&&n===r?ee.push("mx-"+n):(n&&ee.push("ml-"+n),r&&ee.push("mr-"+r))),b&&h&&c&&ee.push("m"+("all"===h?"":h)+"-"+("xs"===b?"":b+"-")+c),g&&d&&u&&ee.push("m"+("all"===d?"":d)+"-"+("xs"===g?"":g+"-")+u),x&&x===_&&x===p&&x===m?ee.push("p-"+x):(x&&x===_?ee.push("py-"+x):(x&&ee.push("pt-"+x),_&&ee.push("pb-"+_)),p&&p===m?ee.push("px-"+p):(p&&ee.push("pl-"+p),m&&ee.push("pr-"+m))),k&&ee.push("bg-"+k),f&&ee.push("text-"+f),w&&ee.push("text-bg-"+w),v&&ee.push(v),I&&ee.push("text-shadow-"+I),z&&ee.push("font-weight-"+z),A&&ee.push("text-inverse"),B&&ee.push("heading-inherit-text"),R&&ee.push("heading-inherit-font-weight"),j&&(1==j||"rounded"==j?ee.push("rounded"):ee.push("rounded-"+j)),y&&ee.push("text-"+y),C&&S&&ee.push("text-"+C+"-"+S),T&&ee.push("w-"+T),L&&ee.push("h-"+L),D&&ee.push("img-thumbnail"),M&&("true"==M?ee.push("border"):"x"==M?(ee.push("border-left"),ee.push("border-right")):"y"==M?(ee.push("border-top"),ee.push("border-bottom")):"u"==M?(ee.push("border-left"),ee.push("border-right"),ee.push("border-bottom")):"inverted-u"==M?(ee.push("border-left"),ee.push("border-right"),ee.push("border-top")):ee.push("border-"+M)),F&&ee.push("border-"+F),W&&ee.push("hover-shadow"),N&&ee.push("hover-move"),P&&ee.push("disabled"),$&&ee.push("align-"+$),U&&(ee.push("speech-bubble"),"md"!=U&&ee.push("speech-bubble-"+U)),H&&(ee.push("alert"),q&&ee.push("alert-"+q)),E&&ee.push("object-fit-"+E),Z&&ee.push("overflow-"+Z),X&&ee.push("multilayer-"+X),G&&ee.push("z-"+G),O&&ee.push("banner-inner"),V&&ee.push("top-0"),J&&ee.push("bottom-0"),Y&&ee.push("left-0"),K&&ee.push("right-0"),Q&&ee.push("position-"+Q),ee.join(" ")}const n=(e,s)=>{let l=[];return void 0!==s&&null!=s&&Array.isArray(s)&&s.length>0?e.forEach((e=>{void 0!==s.find((s=>s===e.value))&&l.push(e)})):l=e,l},r=[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"0",label:(0,i.__)("none (0)","bsx-blocks")},{value:"1",label:(0,i.__)("extra small","bsx-blocks")},{value:"2",label:(0,i.__)("small","bsx-blocks")},{value:"3",label:(0,i.__)("medium","bsx-blocks")},{value:"4",label:(0,i.__)("large","bsx-blocks")},{value:"5",label:(0,i.__)("extra large","bsx-blocks")}],b=((0,i.__)("– unset –","bsx-blocks"),(0,i.__)("Default (XS up)","bsx-blocks"),(0,i.__)("SM up","bsx-blocks"),(0,i.__)("MD up","bsx-blocks"),(0,i.__)("LG up","bsx-blocks"),(0,i.__)("XL up","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("All","bsx-blocks"),(0,i.__)("Before","bsx-blocks"),(0,i.__)("After","bsx-blocks"),(0,i.__)("Y (before & after)","bsx-blocks"),(0,i.__)("Left","bsx-blocks"),(0,i.__)("Right","bsx-blocks"),(0,i.__)("X (left & right)","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Muted","bsx-blocks"),(0,i.__)("Body","bsx-blocks"),(0,i.__)("White transparent","bsx-blocks"),(0,i.__)("Black transparent","bsx-blocks"),(0,i.__)("Inherit","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Link Button","bsx-blocks"),(0,i.__)("Text link","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("White","bsx-blocks"),(0,i.__)("White opaque","bsx-blocks"),(0,i.__)("White transparent","bsx-blocks"),(0,i.__)("Black","bsx-blocks"),(0,i.__)("Black opaque","bsx-blocks"),(0,i.__)("Black transparent","bsx-blocks"),(0,i.__)("Primary","bsx-blocks"),(0,i.__)("Primary opaque","bsx-blocks"),(0,i.__)("Primary transparent","bsx-blocks"),(0,i.__)("Secondary","bsx-blocks"),(0,i.__)("Secondary opaque","bsx-blocks"),(0,i.__)("Secondary transparent","bsx-blocks"),(0,i.__)("Success","bsx-blocks"),(0,i.__)("Success opaque","bsx-blocks"),(0,i.__)("Success transparent","bsx-blocks"),(0,i.__)("Danger","bsx-blocks"),(0,i.__)("Danger opaque","bsx-blocks"),(0,i.__)("Danger transparent","bsx-blocks"),(0,i.__)("Warning","bsx-blocks"),(0,i.__)("Warning opaque","bsx-blocks"),(0,i.__)("Warning transparent","bsx-blocks"),(0,i.__)("Info","bsx-blocks"),(0,i.__)("Info opaque","bsx-blocks"),(0,i.__)("Info transparent","bsx-blocks"),(0,i.__)("Light","bsx-blocks"),(0,i.__)("Light opaque","bsx-blocks"),(0,i.__)("Light transparent","bsx-blocks"),(0,i.__)("Dark","bsx-blocks"),(0,i.__)("Dark opaque","bsx-blocks"),(0,i.__)("Dark transparent","bsx-blocks"),(0,i.__)("Transparent","bsx-blocks"),(0,i.__)("– unset –","bsx-blocks"),(0,i.__)("left","bsx-blocks"),(0,i.__)("Center","bsx-blocks"),(0,i.__)("Right","bsx-blocks"),[{icon:"editor-alignleft",title:(0,i.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,i.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,i.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,i.__)("– unset –","bsx-blocks"),align:""}]),h=(e,l)=>(0,s.jsx)(a.ToggleControl,{label:(0,i.__)("Open in new tab","bsx-blocks"),checked:"_blank"==e,onChange:l}),c=(e,l)=>(0,s.jsx)(t.URLInput,{label:(0,i.__)("Link URL","bsx-blocks"),value:e,onChange:l,__nextHasNoMarginBottom:!0}),g=(e,l)=>(0,s.jsx)(a.ToggleControl,{label:(0,i.__)("Disable responsive image downsizing","bsx-blocks"),checked:!!e,onChange:l,help:(0,i.__)("Enable if you don’t want smaller responsive image sizes, since small devices display image in large dimensions.","bsx-blocks")}),d=(e,l)=>(0,s.jsx)(a.TextControl,{label:(0,i.__)("Rel (optional)","bsx-blocks"),value:e,onChange:l}),u=(e,l,t)=>{const o=r;return(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Margin left","bsx-blocks"),value:e,onChange:l,options:n(o,t)})},x=(e,l,t)=>{const o=r;return(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Margin right","bsx-blocks"),value:e,onChange:l,options:n(o,t)})},_=(e,l,t)=>{const o=r;return(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Margin before","bsx-blocks"),value:e,onChange:l,options:n(o,t),help:(0,i.__)("Spacer before element","bsx-blocks")})},p=(e,l,t)=>{const o=r;return(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Margin after","bsx-blocks"),value:e,onChange:l,options:n(o,t),help:(0,i.__)("Spacer after element","bsx-blocks")})},m=(e,l,t)=>{const o=[{value:"1",label:(0,i.__)("100%","bsx-blocks")},{value:"0.75",label:(0,i.__)("75%","bsx-blocks")},{value:"0.5",label:(0,i.__)("50%","bsx-blocks")},{value:"0.25",label:(0,i.__)("25%","bsx-blocks")}];return(0,s.jsx)(a.RadioControl,{label:(0,i.__)("Scale","bsx-blocks"),selected:e+"",options:n(o,t),onChange:l})};async function k(e){try{return(await fetch(e,{method:"HEAD"})).ok}catch{return!1}}function f(e,s,l){return e>=s?{width:l,height:Math.round(s/e*l)}:{height:l,width:Math.round(e/s*l)}}const w=e=>{const s=new Map([["t","thumbnail"],["m","medium"],["e","medium_large"],["l","large"],["1","1536"],["2","2048"],["f","full"],["o","original"]]),l=s.get(e);if(l)return l;const i=[...s.entries()].find((([,s])=>s===e))?.[0];return i||void 0},v=e=>{const s=[];return void 0!==e[0]&&void 0!==e[0].sizes&&void 0!==e[0].trunc&&void 0!==e[0].ext&&e[0].sizes.forEach(((l,i)=>{void 0!==l.s&&void 0!==l.w&&void 0!==l.h&&s.push({key:w(l?.k)||null,url:e[0].trunc+l.s+"."+e[0].ext,width:l.w,height:l.h})})),s},j=e=>{const{fullImgData:s,imgSizeIndex:l,disableResponsiveDownsizing:i}=e,t=[];return i?t.push(s[l].url+" "+s[l].width+"w"):s.forEach(((e,i)=>{0===i?0!=l&&s[s.length-1].width!=s[s.length-1].height||t.push(e.url+" "+e.width+"w"):i<=l&&t.push(e.url+" "+e.width+"w")})),t.join(", ")};function y(e){const s={};for(let[l,i]of Object.entries(e))i&&(s[l]=i);return s}const C=JSON.parse('{"UU":"bsx-blocks/lazy-img"}');window.wp.data,(0,e.registerBlockType)(C.UU,{icon:l,edit:function({attributes:e,setAttributes:l,clientId:n}){const{imgId:r,imgData:y,imgSizeIndex:C,origWidth:S,origHeight:I,alt:z,figcaption:A,rounded:B,imgThumbnail:R,borderState:T,zoomable:L,externalGalleryParent:D,zoomImgSizeIndex:F,disableResponsiveDownsizing:M,textAlign:W,marginBefore:N,marginAfter:P,marginLeft:$,marginRight:U,aAdditionalClassName:H,imgAdditionalClassName:q,href:E,target:Z,rel:X,scale:G,displayedWidth:O,displayedHeight:V,noFigureTag:J,imgHtml:Y}=e,K=v(y);console.log("attributes (init)",e),console.log("fullImgData (init)",K);const Q=o({textAlign:W,marginBefore:N,marginAfter:P,marginLeft:$,marginRight:U}),ee=(0,t.useBlockProps)({className:Q});async function se(e){if(void 0!==e.url){const s=await async function(e){const s=e.sizes||{},l=[];for(const e of["thumbnail","medium","large","full"]){const i=s[e];i?.url&&i?.width&&i?.height&&l.push({key:e,url:i.url,width:i.width,height:i.height})}let i=null;if(e.originalImageURL&&(i=await async function(e){return new Promise((s=>{const l=new Image;l.onload=()=>s({width:l.naturalWidth,height:l.naturalHeight}),l.onerror=()=>s(null),l.src=e}))}(e.originalImageURL),i&&l.push({key:"original",url:e.originalImageURL,width:i.width,height:i.height})),s.medium_large?.url)l.push({key:"medium_large",url:s.medium_large.url,width:s.medium_large.width,height:s.medium_large.height});else if(i&&i.width>770&&e.originalImageURL){const s=e.originalImageURL.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),t=s?s[0]:"",a=e.originalImageURL.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),o=768,n=i.height/i.width,r=Math.round(o*n),b=`${a}-${o}x${r}${t}`;await k(b)&&l.push({key:"medium_large",url:b,width:o,height:r})}if(i&&e.originalImageURL){const s=e.originalImageURL.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),t=s?s[0]:"",a=e.originalImageURL.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,"");for(const e of[2048,1536]){const{width:s,height:o}=f(i.width,i.height,e),n=`${a}-${s}x${o}${t}`;await k(n)&&l.push({key:`${e}`,url:n,width:s,height:o})}}return l.sort(((e,s)=>e.width*e.height-s.width*s.height)),l}(e);console.log("All image sizes:",s);const i=s[s.length-1],t=i.width,a=i.height,o=(e=>{const s=e[0].url.split(".").pop(),l=e[0].url.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),i=[];return e.forEach((e=>{i.push({s:e.url.replace(l,"").replace("."+s,""),w:e.width,h:e.height,k:w(e.key)})})),[{trunc:l,ext:s,sizes:i}]})(s);console.log("newImgData:",o);let n=parseInt(C);parseInt(C)>=s.length&&(n=s.length-1),e.sizes.thumbnail.width,e.sizes.thumbnail.height;let r=F;(L&&!F||parseInt(F)<parseInt(n)||parseInt(F)>=parseInt(s.length))&&(r=(s.length-1).toString());const b=s[n].width,h=s[n].height;l({imgId:e.id,imgData:o,imgSizeIndex:n.toString(),origWidth:t,origHeight:a,alt:e.alt,zoomImgSizeIndex:r,...!O&&!V&&!G&&{scale:1},...G&&!O&&!V&&{displayedWidth:b*G,displayedHeight:h*G},...O&&{scale:O/b,displayedHeight:h*O/b},...V&&{scale:V/h,displayedWidth:b*V/h}})}}const le=[];void 0!==K&&K.forEach(((e,s)=>{const l=K[K.length-1].width!==K[K.length-1].height&&e.width===e.height;le.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,i.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}));const ie=[];void 0!==K&&K.forEach(((e,s)=>{if(s>=C){const l=K[K.length-1].width!==K[K.length-1].height&&e.width===e.height;ie.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,i.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}}));const te=o({rounded:B,imgThumbnail:R,borderState:T},"img-fluid"+(q?" "+q:"")),ae=r&&void 0!==K&&K.length>0&&void 0!==K[C]&&C<K.length,oe=j({fullImgData:K,imgSizeIndex:C}),ne=ae?K[C].url:"",re=ae&&O?O:ae?K[C].width:"",be=ae&&V?V:ae?K[C].height:"",he=re&&be?"(max-width: "+re+"px) 100vw, "+re+"px":"",ce=ae?(0,s.jsx)("img",{className:te,src:ne,srcset:oe,sizes:he,alt:z,width:re,height:be,loading:"lazy"}):(0,s.jsx)(s.Fragment,{}),ge=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.BlockControls,{children:(de=W,ue=e=>{l({textAlign:e})},(0,s.jsx)(t.AlignmentToolbar,{label:(0,i.__)("Alignment","bsx-blocks"),value:de,onChange:ue,alignmentControls:b}))}),(0,s.jsxs)(t.InspectorControls,{children:[(0,s.jsxs)(a.PanelBody,{title:(0,i.__)("Image","bsx-blocks"),children:[(0,s.jsx)(a.TextControl,{label:(0,i.__)("Alt","bsx-blocks"),value:z,onChange:e=>{l({alt:e})}}),r?(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(a.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,s.jsx)("img",{class:"bsxui-config-panel-img",src:K[C].url,alt:(0,i.__)("Change / upload image","bsx-blocks")})})}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,i.__)("– No image selected yet –","bsx-blocks")})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(a.Button,{onClick:e,isSecondary:!0,children:(0,i.__)("Change / upload image","bsx-blocks")})})}),(0,s.jsx)(a.RadioControl,{label:(0,i.__)("Image size and format","bsx-blocks"),selected:C.toString(),options:le,onChange:e=>{l({imgSizeIndex:e.toString(),displayedWidth:parseInt(K[e].width),displayedHeight:parseInt(K[e].height),scale:parseFloat(K[e].width/K[e].height)})}}),null!=K[C]&&null!=K[C].url&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.jsx)("a",{class:"bsxui-link",href:K[C].url,target:"_blank",children:(0,i.__)("Preview selected image","bsx-blocks")})})}),r&&void 0!==K&&void 0!==K[C]&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.TextControl,{label:(0,i.__)("Displayed width","bsx-blocks"),value:O||K[C].width,onChange:e=>{l({displayedWidth:e!=K[C].width?parseFloat(e):"",displayedHeight:e!=K[C].height?Math.round(e/K[C].width*K[C].height):"",scale:parseFloat(e/K[C].width)})}}),(0,s.jsx)(a.TextControl,{label:(0,i.__)("Displayed height","bsx-blocks"),value:V||K[C].height,onChange:e=>{l({displayedHeight:e!=K[C].width?parseFloat(e):K[C].width,displayedWidth:e!=K[C].height?Math.round(e/K[C].height*K[C].width):"",scale:parseFloat(e/K[C].height)})}}),m(G,(e=>{l({scale:parseFloat(e),displayedWidth:e&&e!=K[C].width?Math.round(K[C].width*parseFloat(e)):"",displayedHeight:e&&e!=K[C].height?Math.round(K[C].height*parseFloat(e)):""})}))]}),(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Rounded","bsx-blocks"),value:B,onChange:e=>{l({rounded:e})},options:[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"rounded",label:(0,i.__)("Rounded corners","bsx-blocks")},{value:"circle",label:(0,i.__)("Circle","bsx-blocks")}]}),(0,s.jsx)(a.ToggleControl,{label:(0,i.__)("Border","bsx-blocks"),checked:!!R,onChange:e=>{l({imgThumbnail:e})}}),(0,s.jsx)(a.SelectControl,{label:(0,i.__)("Border color","bsx-blocks"),value:T,onChange:e=>{l({borderState:e})},options:[{value:"",label:(0,i.__)("– unset –","bsx-blocks")},{value:"white",label:(0,i.__)("White","bsx-blocks")},{value:"primary",label:(0,i.__)("Primary","bsx-blocks")},{value:"secondary",label:(0,i.__)("Secondary","bsx-blocks")},{value:"success",label:(0,i.__)("Success","bsx-blocks")},{value:"danger",label:(0,i.__)("Danger","bsx-blocks")},{value:"warning",label:(0,i.__)("Warning","bsx-blocks")},{value:"info",label:(0,i.__)("Info","bsx-blocks")},{value:"light",label:(0,i.__)("Light","bsx-blocks")},{value:"dark",label:(0,i.__)("Dark","bsx-blocks")}]})]}),(0,s.jsx)(a.PanelBody,{title:(0,i.__)("Zoomable (optional)","bsx-blocks"),children:E&&!L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Zoomable image is deactivated since href is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.ToggleControl,{className:J?"bsxui-disabled":"",label:(0,i.__)("Zoomable image","bsx-blocks"),checked:!!L,onChange:e=>{const s=null==F?(K.length-1).toString():F;l({zoomable:e,zoomImgSizeIndex:s,href:e?K[F].url:null,target:e?"_blank":null})},help:(0,i.__)("If enabled click on image will open shadowbox gallery with large image.","bsx-blocks")}),L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.RadioControl,{label:(0,i.__)("Zoom image size","bsx-blocks"),selected:F,options:ie,onChange:e=>{l({zoomImgSizeIndex:e.toString()})}}),C==F&&(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,i.__)("Currently your zoom image is not larger than your original image.","bsx-blocks")}),(0,s.jsx)(a.ToggleControl,{label:(0,i.__)("External gallery parent","bsx-blocks"),checked:!!D,onChange:e=>{l({externalGalleryParent:e})},help:(0,i.__)("Enabled if using custom external shadowbox gallery element (e.g. configured BSX Wrapper) wrapping this image.","bsx-blocks")})]})]})}),(0,s.jsx)(a.PanelBody,{title:(0,i.__)("Link (optional)","bsx-blocks"),children:L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Link is deactivated since Zoomable image is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[c(E,(e=>{l(""==E?{href:e,aAdditionalClassName:""}:{href:e})})),h(Z,(e=>{l({target:e?"_blank":""})})),d(X,(e=>{l({rel:e})}))]})}),(0,s.jsxs)(a.PanelBody,{title:(0,i.__)("Margin","bsx-blocks"),children:[u($,(e=>{l({marginLeft:e})})),x(U,(e=>{l({marginRight:e})})),_(N,(e=>{l({marginBefore:e})})),p(P,(e=>{l({marginAfter:e})}))]})]}),(0,s.jsxs)(t.InspectorAdvancedControls,{children:[g(M,(e=>{l({disableResponsiveDownsizing:e})})),(0,s.jsx)(a.ToggleControl,{className:L?"bsxui-disabled":"",label:(0,i.__)("No figure tag","bsx-blocks"),checked:!!J,onChange:e=>{l({noFigureTag:e,zoomable:!1,figcaption:[]})}}),!!L&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,i.__)("Figure tag must exist since Zoomable image is set.","bsx-blocks")})}),!!E&&(0,s.jsx)(a.TextControl,{label:(0,i.__)("A element additional class(es)","bsx-blocks"),value:H,onChange:e=>{l({aAdditionalClassName:e})}}),(0,s.jsx)(a.TextControl,{label:(0,i.__)("Image element additional class(es)","bsx-blocks"),value:q,onChange:e=>{l({imgAdditionalClassName:e})}})]})]});var de,ue;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("figure",{...ee,children:[r?(0,s.jsx)(s.Fragment,{children:L?(0,s.jsx)("a",{className:"zoomable-img",children:ce}):(0,s.jsx)(s.Fragment,{children:ce})}):(0,s.jsx)("div",{className:"bsxui-img-upload-placeholder",children:(0,s.jsx)(t.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(a.Button,{onClick:e,isSecondary:!0,children:(0,i.__)("Select / upload Image","bsx-blocks")})})}),(0,s.jsx)(t.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,i.__)("Caption (optional)","bsx-blocks"),value:A,onChange:e=>{l({figcaption:e})},keepPlaceholderOnFocus:!0})]}),ge]})},save:function({attributes:e}){const{className:l,imgSizeIndex:i,imgData:a,url:n,origWidth:r,origHeight:b,alt:h,figcaption:c,rounded:g,imgThumbnail:d,borderState:u,zoomable:x,externalGalleryParent:_,zoomImgSizeIndex:p,disableResponsiveDownsizing:m,textAlign:k,marginBefore:f,marginAfter:w,marginLeft:C,marginRight:S,aAdditionalClassName:I,imgAdditionalClassName:z,href:A,target:B,rel:R,scale:T,displayedWidth:L,displayedHeight:D,noFigureTag:F}=e,M=v(a),W=o({textAlign:k,marginBefore:f,marginAfter:w,marginLeft:C,marginRight:S},l),N=x?"zoomable-img":A&&I?I:"",P=o({rounded:g,imgThumbnail:d,borderState:u},"img-fluid"+(z?" "+z:"")),$=x&&!_?y({"data-bsx":"lightbox"}):{},U=y({href:A,target:B,rel:R,"data-pswp-width":x&&void 0!==M[p]?M[p].width:null,"data-pswp-height":x&&void 0!==M[p]?M[p].height:null,"data-bsx-t":x?"lightbox-item":null}),H=void 0!==M&&M.length>0&&void 0!==M[i]&&i<M.length,q=j({fullImgData:M,imgSizeIndex:i,disableResponsiveDownsizing:m}),E=H?M[i].url:"",Z=H&&L?L:H?M[i].width:"",X=H&&D?D:H?M[i].height:"",G=Z&&X?"(max-width: "+Z+"px) 100vw, "+Z+"px":"",O=P,V=H?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("img",{className:O,src:E,srcset:q,sizes:G,alt:h,width:Z,height:X,loading:"lazy",decoding:"async"})}):(0,s.jsx)(s.Fragment,{}),J=(0,s.jsx)(s.Fragment,{children:x||A?(0,s.jsx)("a",{className:N,...U,...t.useBlockProps.save({className:N,...$}),children:V}):(0,s.jsx)(s.Fragment,{children:V})});return(0,s.jsx)(s.Fragment,{children:F?(0,s.jsx)(s.Fragment,{children:void 0!==M&&void 0!==M[i]&&void 0!==M[i].url&&M[i].url&&(0,s.jsx)(s.Fragment,{children:J})}):(0,s.jsx)("figure",{...t.useBlockProps.save({className:W,...$}),children:void 0!==M&&void 0!==M[i]&&void 0!==M[i].url&&M[i].url&&(0,s.jsxs)(s.Fragment,{children:[J,c&&!t.RichText.isEmpty(c)&&(0,s.jsx)(t.RichText.Content,{tagName:"figcaption",className:"font-italic",value:c})]})})})}})})();