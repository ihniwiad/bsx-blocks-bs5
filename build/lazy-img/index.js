(()=>{"use strict";const e=window.wp.blocks,s=window.ReactJSXRuntime,l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",role:"img",focusable:"false",children:(0,s.jsx)("path",{d:"M18.71,1.29C18.52,1.11,18.26,1,18,1H2C1.74,1,1.48,1.11,1.29,1.29C1.11,1.48,1,1.74,1,2v16c0,0.26,0.11,0.52,0.29,0.71 C1.48,18.89,1.74,19,2,19h16c0.26,0,0.52-0.11,0.71-0.29C18.89,18.52,19,18.26,19,18V2C19,1.74,18.89,1.48,18.71,1.29z M3,17V3h14 l0,14H3z M9,12l-2-1l-3,2v2.98h12V11l-3-2L9,12z M7.5,9C8.88,9,10,7.88,10,6.5S8.88,4,7.5,4S5,5.12,5,6.5S6.12,9,7.5,9z"})}),t=window.wp.i18n,i=window.wp.blockEditor,o=window.wp.components,n=["xs","sm","md","lg","xl","xxl"],a={margin:"m",padding:"p",textAlign:"text",display:"d",gutter:"g"},r=["t","s","b","e"];function b(e,s){if(!s||"object"!=typeof s)return"";const l=a[e];let t=[];return n.forEach((e=>{const i=s[e];if(!Array.isArray(i))return;let o=i.map((e=>e||""));const n="xs"!==e?e+"-":"";if(o.every((e=>""!==e&&e===o[0])))return void t.push(`${l}-${n}${o[0]}`);let a=[!1,!1,!1,!1];""!==o[0]&&o[0]===o[2]&&(t.push(`${l}y-${n}${o[0]}`),a[0]=a[2]=!0),""!==o[1]&&o[1]===o[3]&&(t.push(`${l}x-${n}${o[1]}`),a[1]=a[3]=!0),r.forEach(((e,s)=>{a[s]||""===o[s]||t.push(`${l}${e}-${n}${o[s]}`)}))})),t.join(" ")}function c(e,s){if(!s||"object"!=typeof s)return"";const l=a[e];let t=[];return n.forEach((e=>{const i=s[e];if(!i)return;let o="xs"!==e?e+"-":"";t.push(`${l}-${o}${i}`)})),t.join(" ")}function h(e,s){const{belowNavbar:l,touchFooter:t,display:i,marginBefore:o,marginAfter:n,marginLeft:a,marginRight:r,resMargin1Breakpoint:h,resMargin1Position:g,resMargin1Size:d,resMargin2Breakpoint:u,resMargin2Position:x,resMargin2Size:_,paddingBefore:p,paddingAfter:m,paddingLeft:k,paddingRight:f,bgColor:w,textColor:v,textBgColor:y,textSize:j,rounded:C,textAlign:S,resTextAlignBreakpoint:z,resTextAlign:I,textShadow:A,fontWeight:B,inverseTextColor:T,headingInheritTextColor:$,headingInheritFontWeight:F,width:L,height:M,imgThumbnail:R,borderState:D,border:W,hoverShadow:N,hoverMove:P,disabled:E,verticalAlign:H,speechBubble:q,isAlert:U,state:X,objectFit:O,overflow:G,multilayer:Z,zIndex:V,isBannerInner:J,isTop0:Y,isBottom0:K,isLeft0:Q,isRight0:ee,position:se,flexDirection:le,alignItems:te,gutter:ie,rowReverse:oe,justifyContent:ne,textColumns:ae,margin:re,padding:be}=e,ce=void 0!==s&&s.trim().length>0?s.split(" "):[];if(l&&ce.push("below-navbar-content"),t&&ce.push("mb-n-footer-space"),o&&o===n&&o===a&&o===r?ce.push("m-"+o):(o&&o===n?ce.push("my-"+o):(o&&ce.push("mt-"+o),n&&ce.push("mb-"+n)),a&&a===r?ce.push("mx-"+a):(a&&ce.push("ml-"+a),r&&ce.push("mr-"+r))),h&&g&&d&&ce.push("m"+("all"===g?"":g)+"-"+("xs"===h?"":h+"-")+d),u&&x&&_&&ce.push("m"+("all"===x?"":x)+"-"+("xs"===u?"":u+"-")+_),re&&"object"==typeof re){const e=b("margin",re);e&&ce.push(e)}if(be&&"object"==typeof be){const e=b("padding",be);e&&ce.push(e)}if(S&&"object"==typeof S){const e=c("textAlign",S);e&&ce.push(e)}if(i&&"object"==typeof i){const e=c("display",i);e&&ce.push(e)}if(ie&&"object"==typeof ie){const e=c("gutter",ie);e&&ce.push(e)}return p&&p===m&&p===k&&p===f?ce.push("p-"+p):(p&&p===m?ce.push("py-"+p):(p&&ce.push("pt-"+p),m&&ce.push("pb-"+m)),k&&k===f?ce.push("px-"+k):(k&&ce.push("pl-"+k),f&&ce.push("pr-"+f))),w&&(-1!==w.indexOf("-transparent")?(ce.push("bg-opacity-50"),ce.push("bg-"+w.replace("-transparent",""))):-1!==w.indexOf("-opaque")?(ce.push("bg-opacity-75"),ce.push("bg-"+w.replace("-opaque",""))):ce.push("bg-"+w)),v&&ce.push("text-"+v),y&&ce.push("text-bg-"+y),j&&ce.push(j),A&&ce.push("text-shadow-"+A),B&&ce.push("font-weight-"+B),T&&ce.push("text-inverse"),$&&ce.push("heading-inherit-text"),F&&ce.push("heading-inherit-font-weight"),C&&(1==C||"rounded"==C?ce.push("rounded"):ce.push("rounded-"+C)),z&&I&&ce.push("text-"+z+"-"+I),L&&ce.push("w-"+L),M&&ce.push("h-"+M),R&&ce.push("img-thumbnail"),W&&("true"==W?ce.push("border"):"x"==W?(ce.push("border-left"),ce.push("border-right")):"y"==W?(ce.push("border-top"),ce.push("border-bottom")):"u"==W?(ce.push("border-left"),ce.push("border-right"),ce.push("border-bottom")):"inverted-u"==W?(ce.push("border-left"),ce.push("border-right"),ce.push("border-top")):ce.push("border-"+W)),D&&ce.push("border-"+D),N&&ce.push("hover-shadow"),P&&ce.push("hover-move"),E&&ce.push("disabled"),H&&ce.push("align-"+H),q&&(ce.push("speech-bubble"),"md"!=q&&ce.push("speech-bubble-"+q)),U&&(ce.push("alert"),X&&ce.push("alert-"+X)),O&&ce.push("object-fit-"+O),G&&ce.push("overflow-"+G),Z&&ce.push("multilayer-"+Z),V&&ce.push("z-"+V),J&&ce.push("banner-inner w-100 position-relative"),Y&&ce.push("top-0"),K&&ce.push("bottom-0"),Q&&ce.push("left-0"),ee&&ce.push("right-0"),se&&ce.push("position-"+se),oe&&("xs"==oe?ce.push("flex-row-reverse"):ce.push("flex-"+oe+"-row-reverse")),ne&&ce.push("justify-content-"+ne),ae&&ce.push("text-columns-"+ae),le&&(-1===ce.indexOf("d-flex")&&ce.push("d-flex"),ce.push("flex-"+le)),te&&(-1===ce.indexOf("d-flex")&&ce.push("d-flex"),ce.push("align-items-"+te)),ce.join(" ")}const g=(e,s)=>{let l=[];return void 0!==s&&null!=s&&Array.isArray(s)&&s.length>0?e.forEach((e=>{void 0!==s.find((s=>s===e.value))&&l.push(e)})):l=e,l},d=((0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Left","bsx-blocks"),(0,t.__)("Center","bsx-blocks"),(0,t.__)("Right","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("Block","bsx-blocks"),(0,t.__)("Inline","bsx-blocks"),(0,t.__)("Flex","bsx-blocks"),(0,t.__)("Grid","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("0","bsx-blocks"),(0,t.__)("1","bsx-blocks"),(0,t.__)("2","bsx-blocks"),(0,t.__)("3","bsx-blocks"),(0,t.__)("4","bsx-blocks"),(0,t.__)("5","bsx-blocks"),[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"0",label:(0,t.__)("none (0)","bsx-blocks")},{value:"1",label:(0,t.__)("extra small","bsx-blocks")},{value:"2",label:(0,t.__)("small","bsx-blocks")},{value:"3",label:(0,t.__)("medium","bsx-blocks")},{value:"4",label:(0,t.__)("large","bsx-blocks")},{value:"5",label:(0,t.__)("extra large","bsx-blocks")}]),u=((0,t.__)("auto","bsx-blocks"),d),x=((0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("XS (default)","bsx-blocks"),(0,t.__)("SM","bsx-blocks"),(0,t.__)("MD","bsx-blocks"),(0,t.__)("LG","bsx-blocks"),(0,t.__)("XL","bsx-blocks"),(0,t.__)("XXL","bsx-blocks"),(0,t.__)("All","bsx-blocks"),(0,t.__)("↑ before","bsx-blocks"),(0,t.__)("↓ after","bsx-blocks"),(0,t.__)("↕ Y (before & after)","bsx-blocks"),(0,t.__)("← left","bsx-blocks"),(0,t.__)("→ right","bsx-blocks"),(0,t.__)("↔ X (left & right)","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Muted","bsx-blocks"),(0,t.__)("Body","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Inherit","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Link Button","bsx-blocks"),(0,t.__)("Text link","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("White","bsx-blocks"),(0,t.__)("White opaque","bsx-blocks"),(0,t.__)("White transparent","bsx-blocks"),(0,t.__)("Black","bsx-blocks"),(0,t.__)("Black opaque","bsx-blocks"),(0,t.__)("Black transparent","bsx-blocks"),(0,t.__)("Primary","bsx-blocks"),(0,t.__)("Primary opaque","bsx-blocks"),(0,t.__)("Primary transparent","bsx-blocks"),(0,t.__)("Secondary","bsx-blocks"),(0,t.__)("Secondary opaque","bsx-blocks"),(0,t.__)("Secondary transparent","bsx-blocks"),(0,t.__)("Success","bsx-blocks"),(0,t.__)("Success opaque","bsx-blocks"),(0,t.__)("Success transparent","bsx-blocks"),(0,t.__)("Danger","bsx-blocks"),(0,t.__)("Danger opaque","bsx-blocks"),(0,t.__)("Danger transparent","bsx-blocks"),(0,t.__)("Warning","bsx-blocks"),(0,t.__)("Warning opaque","bsx-blocks"),(0,t.__)("Warning transparent","bsx-blocks"),(0,t.__)("Info","bsx-blocks"),(0,t.__)("Info opaque","bsx-blocks"),(0,t.__)("Info transparent","bsx-blocks"),(0,t.__)("Light","bsx-blocks"),(0,t.__)("Light opaque","bsx-blocks"),(0,t.__)("Light transparent","bsx-blocks"),(0,t.__)("Dark","bsx-blocks"),(0,t.__)("Dark opaque","bsx-blocks"),(0,t.__)("Dark transparent","bsx-blocks"),(0,t.__)("Transparent","bsx-blocks"),(0,t.__)("– unset –","bsx-blocks"),(0,t.__)("left","bsx-blocks"),(0,t.__)("Center","bsx-blocks"),(0,t.__)("Right","bsx-blocks"),[{icon:"editor-alignleft",title:(0,t.__)("Align left","bsx-blocks"),align:"left"},{icon:"editor-aligncenter",title:(0,t.__)("Align center","bsx-blocks"),align:"center"},{icon:"editor-alignright",title:(0,t.__)("Align right","bsx-blocks"),align:"right"},{icon:"editor-alignleft",title:(0,t.__)("– unset –","bsx-blocks"),align:""}]),_=(e,l)=>(0,s.jsx)(o.ToggleControl,{label:(0,t.__)("Open in new tab","bsx-blocks"),checked:"_blank"==e,onChange:l}),p=(e,l)=>(0,s.jsx)(i.URLInput,{label:(0,t.__)("Link URL","bsx-blocks"),value:e,onChange:l,__nextHasNoMarginBottom:!0}),m=(e,l)=>(0,s.jsx)(o.ToggleControl,{label:(0,t.__)("Disable responsive image downsizing","bsx-blocks"),checked:!!e,onChange:l,help:(0,t.__)("Enable if you don’t want smaller responsive image sizes, since small devices display image in large dimensions.","bsx-blocks")}),k=(e,l)=>(0,s.jsx)(o.TextControl,{label:(0,t.__)("Rel (optional)","bsx-blocks"),value:e,onChange:l}),f=(e,l,i)=>{const n=u;return(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Margin left","bsx-blocks"),value:e,onChange:l,options:g(n,i)})},w=(e,l,i)=>{const n=u;return(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Margin right","bsx-blocks"),value:e,onChange:l,options:g(n,i)})},v=(e,l,i)=>{const n=u;return(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Margin before","bsx-blocks"),value:e,onChange:l,options:g(n,i),help:(0,t.__)("Spacer before element","bsx-blocks")})},y=(e,l,i)=>{const n=u;return(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Margin after","bsx-blocks"),value:e,onChange:l,options:g(n,i),help:(0,t.__)("Spacer after element","bsx-blocks")})},j=(e,l,i)=>{const n=[{value:"1",label:(0,t.__)("100%","bsx-blocks")},{value:"0.75",label:(0,t.__)("75%","bsx-blocks")},{value:"0.5",label:(0,t.__)("50%","bsx-blocks")},{value:"0.25",label:(0,t.__)("25%","bsx-blocks")}];return(0,s.jsx)(o.RadioControl,{label:(0,t.__)("Scale","bsx-blocks"),selected:e+"",options:g(n,i),onChange:l})};async function C(e){try{return(await fetch(e,{method:"HEAD"})).ok}catch{return!1}}function S(e,s,l){return e>=s?{width:l,height:Math.round(s/e*l)}:{height:l,width:Math.round(e/s*l)}}const z=e=>{const s=new Map([["t","thumbnail"],["m","medium"],["e","medium_large"],["l","large"],["1","1536"],["2","2048"],["f","full"],["o","original"]]),l=s.get(e);if(l)return l;const t=[...s.entries()].find((([,s])=>s===e))?.[0];return t||void 0},I=e=>{const s=[];return void 0!==e[0]&&void 0!==e[0].sizes&&void 0!==e[0].trunc&&void 0!==e[0].ext&&e[0].sizes.forEach(((l,t)=>{void 0!==l.s&&void 0!==l.w&&void 0!==l.h&&s.push({key:z(l?.k)||null,url:e[0].trunc+l.s+"."+e[0].ext,width:l.w,height:l.h})})),s},A=e=>{const{fullImgData:s,sizeIndex:l,disableResponsiveDownsizing:t}=e,i=[];return t?i.push(s[l].url+" "+s[l].width+"w"):s.forEach(((e,t)=>{0===t?0!=l&&s[s.length-1].width!=s[s.length-1].height||i.push(e.url+" "+e.width+"w"):t<=l&&i.push(e.url+" "+e.width+"w")})),i.join(", ")};function B(e){const s={};for(let[l,t]of Object.entries(e))t&&(s[l]=t);return s}const T=JSON.parse('{"UU":"bsx-blocks/lazy-img"}');window.wp.data,(0,e.registerBlockType)(T.UU,{icon:l,edit:function({attributes:e,setAttributes:l,clientId:n}){const{priority:a,imgId:r,imgData:b,sizeIndex:c,origWidth:g,origHeight:d,alt:u,figcaption:B,rounded:T,imgThumbnail:$,borderState:F,zoomable:L,externalGalleryParent:M,zoomSizeIndex:R,disableResponsiveDownsizing:D,textAlign:W,marginBefore:N,marginAfter:P,marginLeft:E,marginRight:H,aAdditionalClassName:q,imgAdditionalClassName:U,href:X,target:O,rel:G,displayedWidth:Z,displayedHeight:V,noFigureTag:J}=e,Y=I(b);let K=c&&Y?.[c]?.width&&Z?parseInt(Z)/Y[c].width:null;const Q=h({textAlign:W,marginBefore:N,marginAfter:P,marginLeft:E,marginRight:H}),ee=(0,i.useBlockProps)({className:Q});async function se(e){if(void 0!==e.url){const s=await async function(e){const s=e.sizes||{},l=[];for(const e of["thumbnail","medium","large","full"]){const t=s[e];t?.url&&t?.width&&t?.height&&l.push({key:e,url:t.url,width:t.width,height:t.height})}let t=null,i=null,o=null;if(e.originalImageURL){const s=await async function(e){return new Promise((s=>{const l=new Image;l.onload=()=>s({width:l.naturalWidth,height:l.naturalHeight}),l.onerror=()=>s(null),l.src=e}))}(e.originalImageURL);s&&(l.push({key:"original",url:e.originalImageURL,width:s.width,height:s.height}),t=e.originalImageURL,i=s.width,o=s.height)}if(null!==i&&null!==o||(t=e?.sizes?.full?.url,i=e?.sizes?.full?.width,o=e?.sizes?.full?.height),s.medium_large?.url)l.push({key:"medium_large",url:s.medium_large.url,width:s.medium_large.width,height:s.medium_large.height});else if(i>770&&t){const e=t.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),s=e?e[0]:"",n=t.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),a=768,r=o/i,b=Math.round(a*r),c=`${n}-${a}x${b}${s}`;await C(c)&&l.push({key:"medium_large",url:c,width:a,height:b})}if(t){const e=t.match(/\.(jpe?g|png|webp|gif|avif|svg)$/i),s=e?e[0]:"",n=t.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,"");for(const e of[2048,1536]){const{width:t,height:a}=S(i,o,e),r=`${n}-${t}x${a}${s}`;await C(r)&&l.push({key:`${e}`,url:r,width:t,height:a})}}return l.sort(((e,s)=>e.width*e.height-s.width*s.height)),l}(e),t=s[s.length-1],i=t.width,o=t.height,n=(e=>{const s=e[0].url.split(".").pop(),l=e[0].url.replace(/\-[0-9]+x[0-9]+(?=\.\w+$)/,"").replace(/\.(jpe?g|png|webp|gif|avif|svg)$/i,""),t=[];return e.forEach((e=>{t.push({s:e.url.replace(l,"").replace("."+s,""),w:e.width,h:e.height,k:z(e.key)})})),[{trunc:l,ext:s,sizes:t}]})(s);let a=parseInt(c);parseInt(c)>=s.length&&(a=s.length-1);let r=R;(L&&!R||parseInt(R)<parseInt(a)||parseInt(R)>=parseInt(s.length))&&(r=(s.length-1).toString());const b=s[a].width,h=s[a].height;l({imgId:e.id,imgData:n,sizeIndex:a.toString(),origWidth:i,origHeight:o,alt:e.alt,zoomSizeIndex:r,...K&&!Z&&!V&&{displayedWidth:b*K,displayedHeight:h*K},...Z&&{displayedHeight:h*Z/b},...V&&{displayedWidth:b*V/h}})}}const le=[];void 0!==Y&&Y.forEach(((e,s)=>{const l=Y[Y.length-1].width!==Y[Y.length-1].height&&e.width===e.height;le.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,t.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}));const te=[];void 0!==Y&&Y.forEach(((e,s)=>{if(s>=c){const l=Y[Y.length-1].width!==Y[Y.length-1].height&&e.width===e.height;te.push({value:s.toString(),label:e.width+"x"+e.height+(l?" "+(0,t.__)("(Square format)","bsx-blocks"):"")+` (${e.key})`})}}));const ie=h({rounded:T,imgThumbnail:$,borderState:F},"img-fluid"+(U?" "+U:"")),oe=r&&c&&void 0!==Y&&Y.length>0&&void 0!==Y[c]&&c<Y.length;let ne;if(oe){const e=A({fullImgData:Y,sizeIndex:c}),l=oe?Y[c].url:"",t=oe&&Z?Z:oe?Y[c].width:"",i=oe&&V?V:oe?Y[c].height:"",o=t&&i?"(max-width: "+t+"px) 100vw, "+t+"px":"";ne=(0,s.jsx)("img",{className:ie,src:l,srcset:e,sizes:o,alt:u,width:t,height:i,...a?{loading:"eager",fetchpriority:"high"}:{loading:"lazy"},decoding:"async"})}else ne=(0,s.jsx)(s.Fragment,{children:"Empty image"});const ae=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.BlockControls,{children:(re=W,be=e=>{l({textAlign:e})},(0,s.jsx)(i.AlignmentToolbar,{label:(0,t.__)("Alignment","bsx-blocks"),value:re,onChange:be,alignmentControls:x}))}),(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(o.PanelBody,{title:(0,t.__)("Image","bsx-blocks"),children:[(0,s.jsx)(o.TextControl,{label:(0,t.__)("Alt","bsx-blocks"),value:u,onChange:e=>{l({alt:e})}}),r&&c?(0,s.jsx)(i.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{className:"bsxui-config-panel-img-button has-margin-bottom",onClick:e,children:(0,s.jsx)("img",{class:"bsxui-config-panel-img",src:Y[c].url,alt:(0,t.__)("Change / upload image","bsx-blocks")})})}):(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,t.__)("– No image selected yet –","bsx-blocks")})}),(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)(i.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Change / upload image","bsx-blocks")})})}),(0,s.jsx)(o.ToggleControl,{label:(0,t.__)("Enable priority loading","bsx-blocks"),checked:a,onChange:e=>{l({priority:e})}}),(0,s.jsx)(o.RadioControl,{label:(0,t.__)("Image size and format","bsx-blocks"),selected:c?c.toString():null,options:le,onChange:e=>{K=parseFloat(Y[e].width/Y[e].height),l({sizeIndex:e.toString(),displayedWidth:parseInt(Y[e].width),displayedHeight:parseInt(Y[e].height)})}}),c&&null!=Y[c]&&null!=Y[c].url&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-config-panel-text",children:(0,s.jsx)("a",{class:"bsxui-link",href:Y[c].url,target:"_blank",children:(0,t.__)("Preview selected image","bsx-blocks")})})}),r&&c&&void 0!==Y&&void 0!==Y[c]&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.TextControl,{label:(0,t.__)("Displayed width","bsx-blocks"),value:Z||Y[c].width,onChange:e=>{K=parseFloat(e/Y[c].width),l({displayedWidth:e!=Y[c].width?parseFloat(e):"",displayedHeight:e!=Y[c].height?Math.round(e/Y[c].width*Y[c].height):""})}}),(0,s.jsx)(o.TextControl,{label:(0,t.__)("Displayed height","bsx-blocks"),value:V||Y[c].height,onChange:e=>{K=parseFloat(e/Y[c].height),l({displayedHeight:e!=Y[c].width?parseFloat(e):Y[c].width,displayedWidth:e!=Y[c].height?Math.round(e/Y[c].height*Y[c].width):""})}}),j(K,(e=>{K=e,l({displayedWidth:e&&e!=Y[c].width?Math.round(Y[c].width*parseFloat(e)):"",displayedHeight:e&&e!=Y[c].height?Math.round(Y[c].height*parseFloat(e)):""})}))]}),(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Rounded","bsx-blocks"),value:T,onChange:e=>{l({rounded:e})},options:[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"rounded",label:(0,t.__)("Rounded corners","bsx-blocks")},{value:"circle",label:(0,t.__)("Circle","bsx-blocks")}]}),(0,s.jsx)(o.ToggleControl,{label:(0,t.__)("Border","bsx-blocks"),checked:!!$,onChange:e=>{l({imgThumbnail:e})}}),(0,s.jsx)(o.SelectControl,{label:(0,t.__)("Border color","bsx-blocks"),value:F,onChange:e=>{l({borderState:e})},options:[{value:"",label:(0,t.__)("– unset –","bsx-blocks")},{value:"white",label:(0,t.__)("White","bsx-blocks")},{value:"primary",label:(0,t.__)("Primary","bsx-blocks")},{value:"secondary",label:(0,t.__)("Secondary","bsx-blocks")},{value:"success",label:(0,t.__)("Success","bsx-blocks")},{value:"danger",label:(0,t.__)("Danger","bsx-blocks")},{value:"warning",label:(0,t.__)("Warning","bsx-blocks")},{value:"info",label:(0,t.__)("Info","bsx-blocks")},{value:"light",label:(0,t.__)("Light","bsx-blocks")},{value:"dark",label:(0,t.__)("Dark","bsx-blocks")}]})]}),(0,s.jsx)(o.PanelBody,{title:(0,t.__)("Zoomable (optional)","bsx-blocks"),children:X&&!L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("Zoomable image is deactivated since href is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ToggleControl,{className:J?"bsxui-disabled":"",label:(0,t.__)("Zoomable image","bsx-blocks"),checked:!!L,onChange:e=>{const s=null==R?(Y.length-1).toString():R;l({zoomable:e,zoomSizeIndex:s,href:e?Y[s].url:null,target:e?"_blank":null})},help:(0,t.__)("If enabled click on image will open shadowbox gallery with large image.","bsx-blocks")}),L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.RadioControl,{label:(0,t.__)("Zoom image size","bsx-blocks"),selected:R,options:te,onChange:e=>{l({zoomSizeIndex:e.toString()})}}),c==R&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("Currently your zoom image is not larger than your original image.","bsx-blocks")})}),(0,s.jsx)(o.ToggleControl,{label:(0,t.__)("External gallery parent","bsx-blocks"),checked:!!M,onChange:e=>{l({externalGalleryParent:e})},help:(0,t.__)("Enabled if using custom external shadowbox gallery element (e.g. configured BSX Wrapper) wrapping this image.","bsx-blocks")})]})]})}),(0,s.jsx)(o.PanelBody,{title:(0,t.__)("Link (optional)","bsx-blocks"),children:L?(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("Link is deactivated since Zoomable image is set.","bsx-blocks")})}):(0,s.jsxs)(s.Fragment,{children:[p(X,(e=>{l(""==X?{href:e,aAdditionalClassName:""}:{href:e})})),_(O,(e=>{l({target:e?"_blank":""})})),k(G,(e=>{l({rel:e})}))]})}),(0,s.jsxs)(o.PanelBody,{title:(0,t.__)("Margin","bsx-blocks"),children:[f(E,(e=>{l({marginLeft:e})})),w(H,(e=>{l({marginRight:e})})),v(N,(e=>{l({marginBefore:e})})),y(P,(e=>{l({marginAfter:e})}))]})]}),(0,s.jsxs)(i.InspectorAdvancedControls,{children:[m(D,(e=>{l({disableResponsiveDownsizing:e})})),(0,s.jsx)(o.ToggleControl,{className:L?"bsxui-disabled":"",label:(0,t.__)("No figure tag","bsx-blocks"),checked:!!J,onChange:e=>{l({noFigureTag:e,zoomable:!1,figcaption:[]})}}),!!L&&(0,s.jsx)("div",{class:"bsxui-config-panel-row",children:(0,s.jsx)("div",{class:"bsxui-alert",children:(0,t.__)("Figure tag must exist since Zoomable image is set.","bsx-blocks")})}),!!X&&(0,s.jsx)(o.TextControl,{label:(0,t.__)("A element additional class(es)","bsx-blocks"),value:q,onChange:e=>{l({aAdditionalClassName:e})}}),(0,s.jsx)(o.TextControl,{label:(0,t.__)("Image element additional class(es)","bsx-blocks"),value:U,onChange:e=>{l({imgAdditionalClassName:e})}})]})]});var re,be;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("figure",{...ee,children:[r&&c?(0,s.jsx)(s.Fragment,{children:L?(0,s.jsx)("a",{className:"zoomable-img",children:ne}):(0,s.jsx)(s.Fragment,{children:ne})}):(0,s.jsx)("div",{className:"bsxui-img-upload-placeholder",children:(0,s.jsx)(i.MediaUpload,{onSelect:se,allowedTypes:"image",value:r,render:({open:e})=>(0,s.jsx)(o.Button,{onClick:e,isSecondary:!0,children:(0,t.__)("Select / upload Image","bsx-blocks")})})}),(0,s.jsx)(i.RichText,{tagName:"figcaption",multiline:!1,placeholder:(0,t.__)("Caption (optional)","bsx-blocks"),value:B,onChange:e=>{l({figcaption:e})},keepPlaceholderOnFocus:!0})]}),ae]})},save:function({attributes:e}){const{priority:l,className:t,sizeIndex:o,imgData:n,origWidth:a,origHeight:r,alt:b,figcaption:c,rounded:g,imgThumbnail:d,borderState:u,zoomable:x,externalGalleryParent:_,zoomSizeIndex:p,disableResponsiveDownsizing:m,textAlign:k,marginBefore:f,marginAfter:w,marginLeft:v,marginRight:y,aAdditionalClassName:j,imgAdditionalClassName:C,href:S,target:z,rel:T,displayedWidth:$,displayedHeight:F,noFigureTag:L}=e,M=I(n),R=h({textAlign:k,marginBefore:f,marginAfter:w,marginLeft:v,marginRight:y},t),D=x?"zoomable-img":S&&j?j:"",W=h({rounded:g,imgThumbnail:d,borderState:u},"img-fluid"+(C?" "+C:"")),N=x&&!_?B({"data-bsx":"lightbox"}):{},P=B({href:S,target:z,rel:T,"data-pswp-width":x&&void 0!==M[p]?M[p].width:null,"data-pswp-height":x&&void 0!==M[p]?M[p].height:null,"data-bsx-t":x?"lightbox-item":null}),E=void 0!==M&&M.length>0&&void 0!==M[o]&&o<M.length,H=A({fullImgData:M,sizeIndex:o,disableResponsiveDownsizing:m}),q=E?M[o].url:"",U=E&&$?$:E?M[o].width:"",X=E&&F?F:E?M[o].height:"",O=U&&X?"(max-width: "+U+"px) 100vw, "+U+"px":"",G=W,Z=E?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("img",{className:G,src:q,srcset:H,sizes:O,alt:b,width:U,height:X,...l?{loading:"eager",fetchpriority:"high"}:{loading:"lazy"},decoding:"async"})}):(0,s.jsx)(s.Fragment,{}),V=(0,s.jsx)(s.Fragment,{children:x||S?(0,s.jsx)("a",{className:D,...P,...i.useBlockProps.save({className:D,...N}),children:Z}):(0,s.jsx)(s.Fragment,{children:Z})});return(0,s.jsx)(s.Fragment,{children:L?(0,s.jsx)(s.Fragment,{children:void 0!==M&&void 0!==M[o]&&void 0!==M[o].url&&M[o].url&&(0,s.jsx)(s.Fragment,{children:V})}):(0,s.jsx)("figure",{...i.useBlockProps.save({className:R,...N}),children:void 0!==M&&void 0!==M[o]&&void 0!==M[o].url&&M[o].url&&(0,s.jsxs)(s.Fragment,{children:[V,c&&!i.RichText.isEmpty(c)&&(0,s.jsx)(i.RichText.Content,{tagName:"figcaption",className:"font-italic",value:c})]})})})}})})();